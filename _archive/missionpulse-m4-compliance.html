<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MissionPulse M4 - Compliance Guardian</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: #00050F; min-height: 100vh; overflow-x: hidden; }
    .font-mono { font-family: 'JetBrains Mono', monospace; }
    
    /* Animations */
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes ping { 75%, 100% { transform: scale(2); opacity: 0; } }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(0, 229, 250, 0.2); } 50% { box-shadow: 0 0 40px rgba(0, 229, 250, 0.4); } }
    @keyframes checkPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    @keyframes progressFill { from { width: 0%; } }
    @keyframes scanLine { 0% { top: 0; } 100% { top: 100%; } }
    
    .animate-pulse { animation: pulse 2s ease-in-out infinite; }
    .animate-ping { animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite; }
    .animate-spin { animation: spin 1s linear infinite; }
    .animate-slideIn { animation: slideIn 0.5s ease-out; }
    .animate-slideInRight { animation: slideInRight 0.4s ease-out; }
    .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
    .animate-glow { animation: glow 2s ease-in-out infinite; }
    .animate-checkPulse { animation: checkPulse 0.5s ease-out; }
    .animate-progressFill { animation: progressFill 1s ease-out; }
    
    /* Scan effect for validation */
    .scan-container { position: relative; overflow: hidden; }
    .scan-line { 
      position: absolute; left: 0; right: 0; height: 2px; 
      background: linear-gradient(90deg, transparent, #10B981, transparent); 
      opacity: 0.8; animation: scanLine 2s linear infinite;
    }
    
    /* Glass morphism */
    .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(100, 116, 139, 0.2); }
    
    /* Compliance status indicators */
    .status-compliant { border-left: 4px solid #10B981; background: rgba(16, 185, 129, 0.1); }
    .status-partial { border-left: 4px solid #F59E0B; background: rgba(245, 158, 11, 0.1); }
    .status-missing { border-left: 4px solid #EF4444; background: rgba(239, 68, 68, 0.1); }
    .status-review { border-left: 4px solid #3B82F6; background: rgba(59, 130, 246, 0.1); }
    
    /* Matrix cells */
    .matrix-cell { transition: all 0.2s ease; }
    .matrix-cell:hover { transform: scale(1.05); z-index: 10; }
    
    /* Progress ring */
    .progress-ring { transform: rotate(-90deg); }
    .progress-ring-circle { transition: stroke-dashoffset 1s ease-out; }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #0F172A; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    // ═══════════════════════════════════════════════════════════════════════════
    // DESIGN TOKENS (Shield & Pulse UX v8.0)
    // ═══════════════════════════════════════════════════════════════════════════
    const COLORS = {
      bg: '#00050F',
      surface: '#0F172A',
      panel: '#1E293B',
      border: '#334155',
      muted: '#64748B',
      text: '#F8FAFC',
      cyan: '#00E5FA',
      cyanLight: '#33EBFB',
      danger: '#EF4444',
      warning: '#F59E0B',
      success: '#10B981',
      info: '#3B82F6',
      purple: '#A855F7',
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // ICONS
    // ═══════════════════════════════════════════════════════════════════════════
    const Icons = {
      shield: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>,
      shieldCheck: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>,
      check: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" /></svg>,
      checkCircle: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
      x: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>,
      xCircle: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
      alert: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>,
      info: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
      document: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>,
      clipboard: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>,
      search: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>,
      filter: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" /></svg>,
      download: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>,
      upload: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg>,
      refresh: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>,
      zap: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>,
      cpu: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" /></svg>,
      eye: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>,
      link: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>,
      grid: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>,
      list: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 10h16M4 14h16M4 18h16" /></svg>,
      chevronRight: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>,
      chevronDown: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" /></svg>,
      arrowLeft: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>,
      chat: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>,
      send: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>,
      scale: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3" /></svg>,
      loader: () => <svg className="w-full h-full animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>,
    };

    const Icon = ({ name, className = "w-5 h-5" }) => {
      const IconComponent = Icons[name];
      return IconComponent ? <span className={`inline-block ${className}`}><IconComponent /></span> : null;
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // FAR/DFARS CLAUSE DATA
    // ═══════════════════════════════════════════════════════════════════════════
    const FAR_CLAUSES = [
      { clause: '52.204-21', title: 'Basic Safeguarding of Covered Contractor Information', category: 'Security', required: true, status: 'compliant', section: 'K' },
      { clause: '52.212-4', title: 'Contract Terms and Conditions—Commercial Products', category: 'Terms', required: true, status: 'compliant', section: 'I' },
      { clause: '52.219-14', title: 'Limitations on Subcontracting', category: 'Small Business', required: true, status: 'partial', section: 'H' },
      { clause: '52.222-26', title: 'Equal Opportunity', category: 'Labor', required: true, status: 'compliant', section: 'I' },
      { clause: '52.222-35', title: 'Equal Opportunity for Veterans', category: 'Labor', required: true, status: 'compliant', section: 'I' },
      { clause: '52.222-36', title: 'Equal Opportunity for Workers with Disabilities', category: 'Labor', required: true, status: 'compliant', section: 'I' },
      { clause: '52.223-6', title: 'Drug-Free Workplace', category: 'Labor', required: true, status: 'compliant', section: 'I' },
      { clause: '52.225-25', title: 'Prohibition on Contracting with Entities', category: 'National Security', required: true, status: 'review', section: 'K' },
      { clause: '52.227-14', title: 'Rights in Data—General', category: 'IP Rights', required: true, status: 'partial', section: 'H' },
      { clause: '52.232-39', title: 'Unenforceability of Unauthorized Obligations', category: 'Finance', required: false, status: 'compliant', section: 'G' },
    ];

    const DFARS_CLAUSES = [
      { clause: '252.204-7008', title: 'Compliance with Safeguarding CDI', category: 'Cybersecurity', required: true, status: 'partial', section: 'H' },
      { clause: '252.204-7012', title: 'Safeguarding CDI and Cyber Incident Reporting', category: 'Cybersecurity', required: true, status: 'missing', section: 'H' },
      { clause: '252.204-7019', title: 'Notice of NIST SP 800-171 DoD Assessment', category: 'Cybersecurity', required: true, status: 'review', section: 'K' },
      { clause: '252.204-7020', title: 'NIST SP 800-171 DoD Assessment Requirements', category: 'Cybersecurity', required: true, status: 'missing', section: 'K' },
      { clause: '252.204-7021', title: 'CMMC Requirements', category: 'Cybersecurity', required: true, status: 'partial', section: 'L' },
      { clause: '252.223-7008', title: 'Prohibition of Hexavalent Chromium', category: 'Environmental', required: false, status: 'compliant', section: 'I' },
      { clause: '252.225-7001', title: 'Buy American and Balance of Payments', category: 'Trade', required: true, status: 'compliant', section: 'K' },
      { clause: '252.225-7012', title: 'Preference for Certain Domestic Commodities', category: 'Trade', required: false, status: 'compliant', section: 'K' },
      { clause: '252.227-7013', title: 'Rights in Technical Data—Noncommercial Items', category: 'IP Rights', required: true, status: 'review', section: 'H' },
      { clause: '252.239-7010', title: 'Cloud Computing Services', category: 'IT', required: true, status: 'partial', section: 'C' },
    ];

    // ═══════════════════════════════════════════════════════════════════════════
    // SECTION L/M REQUIREMENTS
    // ═══════════════════════════════════════════════════════════════════════════
    const SECTION_L_REQUIREMENTS = [
      { id: 'L.1', title: 'Technical Approach', volume: 'I', pageLimit: 30, status: 'compliant', coverage: 95, proposalRef: 'Vol I, Sec 1-3' },
      { id: 'L.2', title: 'Management Approach', volume: 'II', pageLimit: 20, status: 'compliant', coverage: 88, proposalRef: 'Vol II, Sec 1-2' },
      { id: 'L.3', title: 'Staffing Plan', volume: 'II', pageLimit: 15, status: 'partial', coverage: 72, proposalRef: 'Vol II, Sec 3' },
      { id: 'L.4', title: 'Past Performance', volume: 'III', pageLimit: 10, status: 'compliant', coverage: 100, proposalRef: 'Vol III' },
      { id: 'L.5', title: 'Small Business Participation', volume: 'IV', pageLimit: 5, status: 'review', coverage: 60, proposalRef: 'Vol IV, Sec 1' },
      { id: 'L.6', title: 'Pricing Narrative', volume: 'V', pageLimit: 8, status: 'missing', coverage: 0, proposalRef: 'N/A' },
      { id: 'L.7', title: 'Key Personnel Resumes', volume: 'II', pageLimit: 20, status: 'partial', coverage: 80, proposalRef: 'Vol II, App A' },
      { id: 'L.8', title: 'Quality Control Plan', volume: 'I', pageLimit: 10, status: 'compliant', coverage: 92, proposalRef: 'Vol I, Sec 4' },
    ];

    const SECTION_M_CRITERIA = [
      { id: 'M.1', title: 'Technical Excellence', weight: 40, factors: ['Innovation', 'Methodology', 'Tools'], status: 'addressed' },
      { id: 'M.2', title: 'Management Capability', weight: 25, factors: ['Experience', 'Resources', 'Risk Mitigation'], status: 'addressed' },
      { id: 'M.3', title: 'Past Performance', weight: 20, factors: ['Relevance', 'Quality', 'Timeliness'], status: 'addressed' },
      { id: 'M.4', title: 'Price Reasonableness', weight: 15, factors: ['Completeness', 'Realism', 'Balance'], status: 'partial' },
    ];

    // ═══════════════════════════════════════════════════════════════════════════
    // UI COMPONENTS
    // ═══════════════════════════════════════════════════════════════════════════
    const Card = ({ children, className = '', glow = false, pulse = false }) => (
      <div className={`bg-slate-800/50 backdrop-blur-sm border rounded-2xl transition-all duration-300 
        ${glow ? 'shadow-lg shadow-cyan-500/20 border-cyan-500/30' : 'border-slate-700/50'} 
        ${pulse ? 'animate-pulse' : ''} 
        ${className}`}>
        {children}
      </div>
    );

    const Badge = ({ children, variant = 'default', size = 'sm', icon, pulse = false }) => {
      const variants = {
        default: 'bg-slate-700 text-slate-300',
        success: 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30',
        warning: 'bg-amber-500/20 text-amber-400 border border-amber-500/30',
        danger: 'bg-red-500/20 text-red-400 border border-red-500/30',
        info: 'bg-blue-500/20 text-blue-400 border border-blue-500/30',
        cyan: 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30',
        purple: 'bg-purple-500/20 text-purple-400 border border-purple-500/30',
      };
      const sizes = {
        xs: 'px-1.5 py-0.5 text-[10px]',
        sm: 'px-2 py-1 text-xs',
        md: 'px-3 py-1.5 text-sm',
      };
      return (
        <span className={`inline-flex items-center gap-1.5 font-medium rounded-lg ${variants[variant]} ${sizes[size]} ${pulse ? 'animate-pulse' : ''}`}>
          {icon && <Icon name={icon} className="w-3 h-3" />}
          {children}
        </span>
      );
    };

    const Button = ({ children, variant = 'primary', size = 'md', icon, disabled = false, loading = false, className = '', ...props }) => {
      const variants = {
        primary: 'bg-gradient-to-r from-cyan-500 to-teal-500 text-white hover:from-cyan-400 hover:to-teal-400 shadow-lg shadow-cyan-500/25',
        secondary: 'bg-slate-700 text-white hover:bg-slate-600 border border-slate-600',
        danger: 'bg-gradient-to-r from-red-500 to-rose-500 text-white hover:from-red-400 hover:to-rose-400',
        success: 'bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:from-emerald-400 hover:to-teal-400',
        ghost: 'bg-transparent text-slate-400 hover:text-white hover:bg-slate-700/50',
        outline: 'bg-transparent text-cyan-400 border border-cyan-500/50 hover:bg-cyan-500/10',
      };
      const sizes = {
        sm: 'px-3 py-1.5 text-sm',
        md: 'px-4 py-2 text-sm',
        lg: 'px-6 py-3 text-base',
      };
      return (
        <button
          className={`inline-flex items-center justify-center gap-2 font-semibold rounded-xl transition-all duration-200 ${variants[variant]} ${sizes[size]} ${disabled || loading ? 'opacity-50 cursor-not-allowed' : ''} ${className}`}
          disabled={disabled || loading}
          {...props}
        >
          {loading ? <Icon name="loader" className="w-4 h-4" /> : icon && <Icon name={icon} className="w-4 h-4" />}
          {children}
        </button>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // STATUS BADGE
    // ═══════════════════════════════════════════════════════════════════════════
    const StatusBadge = ({ status }) => {
      const config = {
        compliant: { variant: 'success', text: 'Compliant', icon: 'checkCircle' },
        partial: { variant: 'warning', text: 'Partial', icon: 'alert' },
        missing: { variant: 'danger', text: 'Missing', icon: 'xCircle' },
        review: { variant: 'info', text: 'In Review', icon: 'eye' },
        addressed: { variant: 'success', text: 'Addressed', icon: 'check' },
      };
      const { variant, text, icon } = config[status] || config.review;
      return <Badge variant={variant} size="xs" icon={icon}>{text}</Badge>;
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // PROGRESS RING COMPONENT
    // ═══════════════════════════════════════════════════════════════════════════
    const ProgressRing = ({ value, size = 120, strokeWidth = 10, color = COLORS.cyan }) => {
      const radius = (size - strokeWidth) / 2;
      const circumference = radius * 2 * Math.PI;
      const offset = circumference - (value / 100) * circumference;
      
      const getColor = (val) => {
        if (val >= 85) return COLORS.success;
        if (val >= 70) return COLORS.warning;
        return COLORS.danger;
      };
      
      return (
        <div className="relative" style={{ width: size, height: size }}>
          <svg className="progress-ring" width={size} height={size}>
            <circle
              stroke={COLORS.panel}
              fill="transparent"
              strokeWidth={strokeWidth}
              r={radius}
              cx={size / 2}
              cy={size / 2}
            />
            <circle
              className="progress-ring-circle"
              stroke={getColor(value)}
              fill="transparent"
              strokeWidth={strokeWidth}
              strokeLinecap="round"
              strokeDasharray={circumference}
              strokeDashoffset={offset}
              r={radius}
              cx={size / 2}
              cy={size / 2}
            />
          </svg>
          <div className="absolute inset-0 flex flex-col items-center justify-center">
            <span className="text-3xl font-bold text-white">{value}%</span>
            <span className="text-xs text-slate-400">Compliant</span>
          </div>
        </div>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // COMPLIANCE MATRIX
    // ═══════════════════════════════════════════════════════════════════════════
    const ComplianceMatrix = ({ clauses, title, onSelectClause }) => {
      const [filter, setFilter] = useState('all');
      const [search, setSearch] = useState('');
      
      const filtered = clauses.filter(c => {
        const matchesFilter = filter === 'all' || c.status === filter;
        const matchesSearch = c.clause.toLowerCase().includes(search.toLowerCase()) || 
                             c.title.toLowerCase().includes(search.toLowerCase());
        return matchesFilter && matchesSearch;
      });
      
      const statusCounts = {
        compliant: clauses.filter(c => c.status === 'compliant').length,
        partial: clauses.filter(c => c.status === 'partial').length,
        missing: clauses.filter(c => c.status === 'missing').length,
        review: clauses.filter(c => c.status === 'review').length,
      };

      return (
        <Card className="p-4">
          <div className="flex items-center justify-between mb-4">
            <h3 className="font-semibold text-white flex items-center gap-2">
              <Icon name="scale" className="w-5 h-5 text-cyan-400" />
              {title}
            </h3>
            <div className="flex items-center gap-2">
              <div className="relative">
                <Icon name="search" className="w-4 h-4 text-slate-500 absolute left-3 top-1/2 -translate-y-1/2" />
                <input
                  type="text"
                  placeholder="Search clauses..."
                  value={search}
                  onChange={(e) => setSearch(e.target.value)}
                  className="pl-9 pr-3 py-1.5 text-sm bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none w-48"
                />
              </div>
            </div>
          </div>
          
          {/* Status Filter Pills */}
          <div className="flex items-center gap-2 mb-4">
            <button 
              onClick={() => setFilter('all')}
              className={`px-3 py-1 text-xs rounded-full transition-all ${filter === 'all' ? 'bg-cyan-500 text-white' : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
            >
              All ({clauses.length})
            </button>
            <button 
              onClick={() => setFilter('compliant')}
              className={`px-3 py-1 text-xs rounded-full transition-all ${filter === 'compliant' ? 'bg-emerald-500 text-white' : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
            >
              ✓ Compliant ({statusCounts.compliant})
            </button>
            <button 
              onClick={() => setFilter('partial')}
              className={`px-3 py-1 text-xs rounded-full transition-all ${filter === 'partial' ? 'bg-amber-500 text-white' : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
            >
              ◐ Partial ({statusCounts.partial})
            </button>
            <button 
              onClick={() => setFilter('missing')}
              className={`px-3 py-1 text-xs rounded-full transition-all ${filter === 'missing' ? 'bg-red-500 text-white' : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
            >
              ✗ Missing ({statusCounts.missing})
            </button>
            <button 
              onClick={() => setFilter('review')}
              className={`px-3 py-1 text-xs rounded-full transition-all ${filter === 'review' ? 'bg-blue-500 text-white' : 'bg-slate-700 text-slate-400 hover:bg-slate-600'}`}
            >
              ◎ Review ({statusCounts.review})
            </button>
          </div>
          
          {/* Clause List */}
          <div className="space-y-2 max-h-[400px] overflow-y-auto pr-2">
            {filtered.map((clause, idx) => (
              <div 
                key={clause.clause}
                onClick={() => onSelectClause && onSelectClause(clause)}
                className={`p-3 rounded-xl cursor-pointer transition-all hover:scale-[1.01] matrix-cell
                  ${clause.status === 'compliant' ? 'status-compliant' : ''}
                  ${clause.status === 'partial' ? 'status-partial' : ''}
                  ${clause.status === 'missing' ? 'status-missing' : ''}
                  ${clause.status === 'review' ? 'status-review' : ''}
                `}
                style={{ animationDelay: `${idx * 50}ms` }}
              >
                <div className="flex items-center justify-between">
                  <div className="flex-1">
                    <div className="flex items-center gap-2 mb-1">
                      <span className="font-mono text-sm text-cyan-400">{clause.clause}</span>
                      {clause.required && <Badge variant="purple" size="xs">Required</Badge>}
                      <Badge variant="default" size="xs">{clause.category}</Badge>
                    </div>
                    <p className="text-sm text-slate-300 line-clamp-1">{clause.title}</p>
                  </div>
                  <div className="flex items-center gap-3">
                    <span className="text-xs text-slate-500">Sec {clause.section}</span>
                    <StatusBadge status={clause.status} />
                  </div>
                </div>
              </div>
            ))}
          </div>
        </Card>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // SECTION L/M TRACKER
    // ═══════════════════════════════════════════════════════════════════════════
    const SectionLMTracker = ({ requirements, criteria }) => {
      const [activeTab, setActiveTab] = useState('L');
      
      return (
        <Card className="p-4">
          <div className="flex items-center justify-between mb-4">
            <h3 className="font-semibold text-white flex items-center gap-2">
              <Icon name="clipboard" className="w-5 h-5 text-purple-400" />
              Section L/M Compliance
            </h3>
            <div className="flex bg-slate-900/50 rounded-lg p-0.5">
              <button 
                onClick={() => setActiveTab('L')}
                className={`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${activeTab === 'L' ? 'bg-purple-500 text-white' : 'text-slate-400 hover:text-white'}`}
              >
                Section L
              </button>
              <button 
                onClick={() => setActiveTab('M')}
                className={`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${activeTab === 'M' ? 'bg-purple-500 text-white' : 'text-slate-400 hover:text-white'}`}
              >
                Section M
              </button>
            </div>
          </div>
          
          {activeTab === 'L' && (
            <div className="space-y-3">
              {requirements.map((req, idx) => (
                <div key={req.id} className="p-3 rounded-xl bg-slate-900/50 border border-slate-700/50 animate-fadeIn" style={{ animationDelay: `${idx * 50}ms` }}>
                  <div className="flex items-center justify-between mb-2">
                    <div className="flex items-center gap-2">
                      <span className="font-mono text-sm text-purple-400">{req.id}</span>
                      <span className="text-sm font-medium text-white">{req.title}</span>
                    </div>
                    <StatusBadge status={req.status} />
                  </div>
                  <div className="flex items-center gap-4 text-xs text-slate-400">
                    <span>Volume {req.volume}</span>
                    <span>•</span>
                    <span>{req.pageLimit} pages max</span>
                    <span>•</span>
                    <span className="text-slate-500">{req.proposalRef}</span>
                  </div>
                  <div className="mt-2">
                    <div className="flex items-center justify-between text-xs mb-1">
                      <span className="text-slate-500">Coverage</span>
                      <span className={`font-medium ${req.coverage >= 85 ? 'text-emerald-400' : req.coverage >= 60 ? 'text-amber-400' : 'text-red-400'}`}>{req.coverage}%</span>
                    </div>
                    <div className="h-1.5 bg-slate-700 rounded-full overflow-hidden">
                      <div 
                        className={`h-full rounded-full transition-all duration-500 animate-progressFill ${req.coverage >= 85 ? 'bg-emerald-500' : req.coverage >= 60 ? 'bg-amber-500' : 'bg-red-500'}`}
                        style={{ width: `${req.coverage}%` }}
                      />
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}
          
          {activeTab === 'M' && (
            <div className="space-y-3">
              {criteria.map((crit, idx) => (
                <div key={crit.id} className="p-3 rounded-xl bg-slate-900/50 border border-slate-700/50 animate-fadeIn" style={{ animationDelay: `${idx * 50}ms` }}>
                  <div className="flex items-center justify-between mb-2">
                    <div className="flex items-center gap-2">
                      <span className="font-mono text-sm text-purple-400">{crit.id}</span>
                      <span className="text-sm font-medium text-white">{crit.title}</span>
                    </div>
                    <div className="flex items-center gap-2">
                      <Badge variant="cyan" size="xs">{crit.weight}% Weight</Badge>
                      <StatusBadge status={crit.status} />
                    </div>
                  </div>
                  <div className="flex flex-wrap gap-1.5 mt-2">
                    {crit.factors.map(factor => (
                      <span key={factor} className="px-2 py-0.5 text-xs bg-slate-800 text-slate-400 rounded-md">{factor}</span>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          )}
        </Card>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // AI COMPLIANCE CHECKER PANEL
    // ═══════════════════════════════════════════════════════════════════════════
    const AIComplianceChecker = ({ isOpen, onClose }) => {
      const [messages, setMessages] = useState([
        { role: 'assistant', content: 'Hello! I\'m the Compliance Guardian AI. I can help you verify FAR/DFARS compliance, check Section L/M requirements, and identify gaps in your proposal. What would you like to check today?' }
      ]);
      const [input, setInput] = useState('');
      const [loading, setLoading] = useState(false);
      const messagesEndRef = useRef(null);
      
      const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      };
      
      useEffect(scrollToBottom, [messages]);
      
      const handleSend = () => {
        if (!input.trim()) return;
        
        setMessages(prev => [...prev, { role: 'user', content: input }]);
        setInput('');
        setLoading(true);
        
        // Simulate AI response
        setTimeout(() => {
          const responses = [
            `Based on my analysis of DFARS 252.204-7012, your current cybersecurity documentation shows gaps in the following areas:\n\n1. **72-hour incident reporting procedure** - Not documented\n2. **NIST 800-171 SSP** - Draft version only\n3. **Subcontractor flow-down** - Incomplete\n\n⚠️ Recommend addressing these before Pink Team review.`,
            `Your Section L.3 Staffing Plan shows 72% coverage. Key gaps identified:\n\n• Missing: Labor mix justification for Year 2-3\n• Missing: Transition staffing timeline\n• Partial: Key personnel availability letters\n\n✓ Recommend using the Iron Dome Drafter to generate the missing sections.`,
            `FAR 52.227-14 compliance check complete:\n\n✓ Data rights assertions documented\n✓ Commercial software identified\n⚠️ Limited rights data not fully marked in Attachment J\n\nSuggested action: Review Attachment J-3 and ensure all proprietary data is properly marked per DFARS 252.227-7013.`,
          ];
          
          setMessages(prev => [...prev, { 
            role: 'assistant', 
            content: responses[Math.floor(Math.random() * responses.length)]
          }]);
          setLoading(false);
        }, 1500);
      };
      
      if (!isOpen) return null;
      
      return (
        <div className="fixed inset-y-0 right-0 w-[450px] bg-slate-900 border-l border-slate-700 shadow-2xl z-50 flex flex-col animate-slideInRight">
          {/* Header */}
          <div className="flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-400 to-emerald-500 flex items-center justify-center">
                <Icon name="shieldCheck" className="w-5 h-5 text-white" />
              </div>
              <div>
                <h3 className="font-semibold text-white">Compliance Guardian AI</h3>
                <p className="text-xs text-slate-400">FAR/DFARS Validation Assistant</p>
              </div>
            </div>
            <button onClick={onClose} className="p-2 hover:bg-slate-700 rounded-lg transition-colors">
              <Icon name="x" className="w-5 h-5 text-slate-400" />
            </button>
          </div>
          
          {/* Messages */}
          <div className="flex-1 overflow-y-auto p-4 space-y-4">
            {messages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-[85%] p-3 rounded-2xl ${
                  msg.role === 'user' 
                    ? 'bg-cyan-500 text-white rounded-br-sm' 
                    : 'bg-slate-800 text-slate-200 rounded-bl-sm border border-slate-700'
                }`}>
                  <p className="text-sm whitespace-pre-wrap">{msg.content}</p>
                </div>
              </div>
            ))}
            {loading && (
              <div className="flex justify-start">
                <div className="bg-slate-800 border border-slate-700 p-3 rounded-2xl rounded-bl-sm">
                  <div className="flex items-center gap-2">
                    <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
                    <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
                    <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
                  </div>
                </div>
              </div>
            )}
            <div ref={messagesEndRef} />
          </div>
          
          {/* Input */}
          <div className="p-4 border-t border-slate-700 bg-slate-800/30">
            <div className="flex gap-2">
              <input
                type="text"
                value={input}
                onChange={(e) => setInput(e.target.value)}
                onKeyDown={(e) => e.key === 'Enter' && handleSend()}
                placeholder="Ask about compliance requirements..."
                className="flex-1 px-4 py-2.5 bg-slate-900 border border-slate-700 rounded-xl text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none text-sm"
              />
              <Button variant="primary" icon="send" onClick={handleSend} disabled={loading || !input.trim()}>
                Send
              </Button>
            </div>
            <p className="text-[10px] text-slate-600 mt-2 text-center">AI GENERATED - REQUIRES HUMAN REVIEW</p>
          </div>
        </div>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // QUICK STATS CARDS
    // ═══════════════════════════════════════════════════════════════════════════
    const QuickStats = ({ farClauses, dfarsClauses, requirements }) => {
      const allClauses = [...farClauses, ...dfarsClauses];
      const compliantCount = allClauses.filter(c => c.status === 'compliant').length;
      const totalRequired = allClauses.filter(c => c.required).length;
      const missingCount = allClauses.filter(c => c.status === 'missing').length;
      const avgCoverage = Math.round(requirements.reduce((sum, r) => sum + r.coverage, 0) / requirements.length);
      
      const stats = [
        { 
          label: 'Overall Compliance', 
          value: `${Math.round((compliantCount / allClauses.length) * 100)}%`,
          icon: 'shieldCheck',
          color: 'cyan',
          trend: '+5% this week'
        },
        { 
          label: 'Required Clauses Met', 
          value: `${compliantCount}/${totalRequired}`,
          icon: 'checkCircle',
          color: 'success',
          trend: '3 pending review'
        },
        { 
          label: 'Critical Gaps', 
          value: missingCount,
          icon: 'alert',
          color: 'danger',
          trend: 'Action required'
        },
        { 
          label: 'Section L Coverage', 
          value: `${avgCoverage}%`,
          icon: 'document',
          color: 'purple',
          trend: '2 sections incomplete'
        },
      ];
      
      return (
        <div className="grid grid-cols-4 gap-4 mb-6">
          {stats.map((stat, idx) => (
            <Card key={stat.label} className="p-4 animate-fadeIn" style={{ animationDelay: `${idx * 100}ms` }}>
              <div className="flex items-start justify-between mb-3">
                <div className={`w-10 h-10 rounded-xl flex items-center justify-center ${
                  stat.color === 'cyan' ? 'bg-cyan-500/20' :
                  stat.color === 'success' ? 'bg-emerald-500/20' :
                  stat.color === 'danger' ? 'bg-red-500/20' :
                  'bg-purple-500/20'
                }`}>
                  <Icon name={stat.icon} className={`w-5 h-5 ${
                    stat.color === 'cyan' ? 'text-cyan-400' :
                    stat.color === 'success' ? 'text-emerald-400' :
                    stat.color === 'danger' ? 'text-red-400' :
                    'text-purple-400'
                  }`} />
                </div>
              </div>
              <div className="text-2xl font-bold text-white mb-1">{stat.value}</div>
              <div className="text-sm text-slate-400 mb-2">{stat.label}</div>
              <div className="text-xs text-slate-500">{stat.trend}</div>
            </Card>
          ))}
        </div>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // MAIN COMPLIANCE GUARDIAN COMPONENT
    // ═══════════════════════════════════════════════════════════════════════════
    const ComplianceGuardian = () => {
      const [showAIChecker, setShowAIChecker] = useState(false);
      const [scanning, setScanning] = useState(false);
      const [selectedClause, setSelectedClause] = useState(null);
      
      // Calculate overall compliance score
      const allClauses = [...FAR_CLAUSES, ...DFARS_CLAUSES];
      const compliantCount = allClauses.filter(c => c.status === 'compliant').length;
      const complianceScore = Math.round((compliantCount / allClauses.length) * 100);
      
      const handleScan = () => {
        setScanning(true);
        setTimeout(() => setScanning(false), 3000);
      };
      
      return (
        <div className="min-h-screen" style={{ background: COLORS.bg }}>
          {/* Header */}
          <header className="border-b sticky top-0 z-40 glass" style={{ borderColor: COLORS.border }}>
            <div className="max-w-7xl mx-auto px-6 py-4">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-4">
                  <div className="flex items-center gap-3">
                    <div className="w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-br from-emerald-400 to-cyan-500">
                      <Icon name="shieldCheck" className="w-6 h-6 text-white" />
                    </div>
                    <div>
                      <h1 className="text-xl font-bold text-white">M4: Compliance Guardian</h1>
                      <p className="text-xs text-slate-400">FAR/DFARS Matrix & Section L/M Tracker</p>
                    </div>
                  </div>
                  <Badge variant="success" size="sm">
                    <span className="w-2 h-2 rounded-full bg-emerald-400 animate-pulse mr-1" />
                    Monitoring Active
                  </Badge>
                </div>
                
                <div className="flex items-center gap-3">
                  <Button variant="outline" icon="download" size="sm">
                    Export Matrix
                  </Button>
                  <Button 
                    variant="primary" 
                    icon={scanning ? 'loader' : 'zap'} 
                    onClick={handleScan}
                    disabled={scanning}
                  >
                    {scanning ? 'Scanning...' : 'Run Compliance Check'}
                  </Button>
                  <Button variant="secondary" icon="chat" onClick={() => setShowAIChecker(true)}>
                    AI Advisor
                  </Button>
                </div>
              </div>
            </div>
          </header>

          <main className="max-w-7xl mx-auto px-6 py-6">
            {/* Quick Stats */}
            <QuickStats 
              farClauses={FAR_CLAUSES} 
              dfarsClauses={DFARS_CLAUSES} 
              requirements={SECTION_L_REQUIREMENTS} 
            />
            
            {/* Main Content Grid */}
            <div className="grid grid-cols-3 gap-6">
              {/* Left Column - Compliance Score & FAR */}
              <div className="space-y-6">
                {/* Compliance Score Ring */}
                <Card className="p-6 text-center" glow>
                  <div className="flex justify-center mb-4">
                    <ProgressRing value={complianceScore} size={140} strokeWidth={12} />
                  </div>
                  <h3 className="text-lg font-semibold text-white mb-1">Overall Compliance Score</h3>
                  <p className="text-sm text-slate-400 mb-4">Based on {allClauses.length} tracked clauses</p>
                  <div className="grid grid-cols-2 gap-2">
                    <div className="p-2 rounded-lg bg-emerald-500/10 border border-emerald-500/20">
                      <div className="text-lg font-bold text-emerald-400">{compliantCount}</div>
                      <div className="text-xs text-slate-400">Compliant</div>
                    </div>
                    <div className="p-2 rounded-lg bg-red-500/10 border border-red-500/20">
                      <div className="text-lg font-bold text-red-400">{allClauses.filter(c => c.status === 'missing').length}</div>
                      <div className="text-xs text-slate-400">Gaps</div>
                    </div>
                  </div>
                </Card>
                
                {/* FAR Clauses */}
                <ComplianceMatrix 
                  clauses={FAR_CLAUSES} 
                  title="FAR Clauses" 
                  onSelectClause={setSelectedClause}
                />
              </div>
              
              {/* Center Column - DFARS */}
              <div className="space-y-6">
                <ComplianceMatrix 
                  clauses={DFARS_CLAUSES} 
                  title="DFARS Clauses" 
                  onSelectClause={setSelectedClause}
                />
                
                {/* Scanning Indicator */}
                {scanning && (
                  <Card className="p-4 border-cyan-500/30 scan-container overflow-hidden">
                    <div className="scan-line" />
                    <div className="flex items-center gap-3">
                      <div className="w-10 h-10 rounded-xl bg-cyan-500/20 flex items-center justify-center">
                        <Icon name="cpu" className="w-5 h-5 text-cyan-400 animate-pulse" />
                      </div>
                      <div>
                        <h4 className="font-semibold text-white">Compliance Scan in Progress</h4>
                        <p className="text-sm text-slate-400">Analyzing {allClauses.length} clauses against proposal content...</p>
                      </div>
                    </div>
                  </Card>
                )}
              </div>
              
              {/* Right Column - Section L/M */}
              <div className="space-y-6">
                <SectionLMTracker 
                  requirements={SECTION_L_REQUIREMENTS} 
                  criteria={SECTION_M_CRITERIA} 
                />
                
                {/* Quick Actions */}
                <Card className="p-4">
                  <h3 className="font-semibold text-white mb-4 flex items-center gap-2">
                    <Icon name="zap" className="w-5 h-5 text-amber-400" />
                    Quick Actions
                  </h3>
                  <div className="space-y-2">
                    <Button variant="ghost" icon="upload" className="w-full justify-start">
                      Import RFP Section L/M
                    </Button>
                    <Button variant="ghost" icon="link" className="w-full justify-start">
                      Link to Proposal Volumes
                    </Button>
                    <Button variant="ghost" icon="document" className="w-full justify-start">
                      Generate Compliance Report
                    </Button>
                    <Button variant="ghost" icon="refresh" className="w-full justify-start">
                      Sync with War Room
                    </Button>
                  </div>
                </Card>
              </div>
            </div>

            {/* Footer */}
            <div className="flex items-center justify-between mt-8 pt-4 border-t border-slate-800">
              <span className="text-xs text-slate-500">MissionPulse v12.0 • M4 Compliance Guardian</span>
              <Badge variant="warning" size="xs">AI GENERATED - REQUIRES HUMAN REVIEW</Badge>
            </div>
          </main>

          {/* AI Compliance Checker Panel */}
          <AIComplianceChecker isOpen={showAIChecker} onClose={() => setShowAIChecker(false)} />
          
          {/* Overlay when AI panel is open */}
          {showAIChecker && (
            <div 
              className="fixed inset-0 bg-black/30 z-40"
              onClick={() => setShowAIChecker(false)}
            />
          )}
        </div>
      );
    };

    // ═══════════════════════════════════════════════════════════════════════════
    // RENDER
    // ═══════════════════════════════════════════════════════════════════════════
    ReactDOM.createRoot(document.getElementById('root')).render(<ComplianceGuardian />);
  </script>
</body>
</html>
