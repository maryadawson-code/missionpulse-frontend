<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MissionPulse - Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: #00050F; min-height: 100vh; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .glass { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(12px); border: 1px solid rgba(71, 85, 105, 0.3); }
    .glow { box-shadow: 0 0 40px rgba(0, 229, 250, 0.15); }
    .input-glow:focus { box-shadow: 0 0 0 3px rgba(0, 229, 250, 0.2); }
  </style>
</head>
<body class="flex items-center justify-center p-4">
  <!-- Background Grid -->
  <div class="fixed inset-0 opacity-5" style="background-image: radial-gradient(circle at 1px 1px, rgba(0,229,250,0.5) 1px, transparent 0); background-size: 40px 40px;"></div>
  
  <!-- Floating Orbs -->
  <div class="fixed top-20 left-20 w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl animate-float"></div>
  <div class="fixed bottom-20 right-20 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-float" style="animation-delay: 1s;"></div>

  <div class="relative z-10 w-full max-w-md animate-fadeIn">
    <!-- Logo -->
    <div class="text-center mb-8">
      <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-cyan-500 to-teal-400 mb-4 glow">
        <span class="text-4xl">üõ°Ô∏è</span>
      </div>
      <h1 class="text-3xl font-bold text-white mb-1">MissionPulse</h1>
      <p class="text-cyan-400 text-sm font-medium">Mission. Technology. Transformation.</p>
    </div>

    <!-- Login Card -->
    <div class="glass rounded-2xl p-8 glow">
      <h2 class="text-xl font-semibold text-white mb-6 text-center">Sign in to your account</h2>
      
      <form id="loginForm" class="space-y-5">
        <!-- Email -->
        <div>
          <label class="block text-sm font-medium text-slate-300 mb-2">Email Address</label>
          <input 
            type="email" 
            id="email" 
            required
            placeholder="you@company.com"
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 input-glow transition"
          >
        </div>

        <!-- Password -->
        <div>
          <label class="block text-sm font-medium text-slate-300 mb-2">Password</label>
          <input 
            type="password" 
            id="password" 
            required
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 input-glow transition"
          >
        </div>

        <!-- Role Select -->
        <div>
          <label class="block text-sm font-medium text-slate-300 mb-2">Login as Role</label>
          <select 
            id="role" 
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:border-cyan-500 input-glow transition"
          >
            <option value="CEO">üëë CEO - Mary Womack</option>
            <option value="COO">üíº COO - David Chen</option>
            <option value="CAP">üéØ Capture Manager - Michael Torres</option>
            <option value="PM">üìã Proposal Manager - Lisa Martinez</option>
            <option value="SA">üíª Solution Architect - Sarah Chen</option>
            <option value="FIN">üí∞ Pricing Lead - Jennifer Park</option>
            <option value="CON">‚öñÔ∏è Contracts - Robert Williams</option>
            <option value="DEL">üë• Delivery Lead - Amanda Foster</option>
            <option value="Admin">‚öôÔ∏è System Admin</option>
          </select>
        </div>

        <!-- Error Message -->
        <div id="errorMsg" class="hidden p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 text-sm text-center"></div>

        <!-- Submit Button -->
        <button 
          type="submit" 
          id="submitBtn"
          class="w-full py-3 px-4 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-semibold rounded-xl hover:from-cyan-400 hover:to-teal-400 transition transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2"
        >
          <span>Sign In</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
          </svg>
        </button>
      </form>

      <!-- Demo Credentials -->
      <div class="mt-6 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50">
        <p class="text-xs text-slate-400 text-center mb-2">Demo Credentials</p>
        <div class="flex justify-center gap-4 text-xs">
          <div class="text-center">
            <span class="text-slate-500">Email:</span>
            <span class="text-cyan-400 ml-1 font-mono">demo@mmt.com</span>
          </div>
          <div class="text-center">
            <span class="text-slate-500">Password:</span>
            <span class="text-cyan-400 ml-1 font-mono">demo123</span>
          </div>
        </div>
        <button 
          type="button"
          onclick="fillDemo()"
          class="w-full mt-3 py-2 px-3 bg-slate-700/50 text-slate-300 text-sm rounded-lg hover:bg-slate-700 transition"
        >
          Fill Demo Credentials
        </button>
      </div>
    </div>

    <!-- Footer -->
    <p class="text-center text-slate-600 text-xs mt-6">
      ¬© 2026 Mission Meets Tech ‚Ä¢ AI GENERATED CONTENT REQUIRES HUMAN REVIEW
    </p>
  </div>

  <script>
    // Role definitions with full access info
    const ROLES = {
      'CEO': { id: 'CEO', name: 'CEO', fullName: 'Mary Womack', icon: 'üëë' },
      'COO': { id: 'COO', name: 'COO', fullName: 'David Chen', icon: 'üíº' },
      'CAP': { id: 'CAP', name: 'Capture', fullName: 'Michael Torres', icon: 'üéØ' },
      'PM': { id: 'PM', name: 'Proposal Mgr', fullName: 'Lisa Martinez', icon: 'üìã' },
      'SA': { id: 'SA', name: 'Solution Arch', fullName: 'Sarah Chen', icon: 'üíª' },
      'FIN': { id: 'FIN', name: 'Pricing', fullName: 'Jennifer Park', icon: 'üí∞' },
      'CON': { id: 'CON', name: 'Contracts', fullName: 'Robert Williams', icon: '‚öñÔ∏è' },
      'DEL': { id: 'DEL', name: 'Delivery', fullName: 'Amanda Foster', icon: 'üë•' },
      'Admin': { id: 'Admin', name: 'Admin', fullName: 'System Admin', icon: '‚öôÔ∏è' }
    };

    // Fill demo credentials
    function fillDemo() {
      document.getElementById('email').value = 'demo@mmt.com';
      document.getElementById('password').value = 'demo123';
    }

    // Check if already logged in
    if (localStorage.getItem('MP_SESSION') && localStorage.getItem('MP_USER')) {
      window.location.href = 'index.html';
    }

    // Handle form submission
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const roleId = document.getElementById('role').value;
      const errorMsg = document.getElementById('errorMsg');
      const submitBtn = document.getElementById('submitBtn');

      // Simple validation (in production, this would hit Supabase Auth)
      if (!email || !password) {
        errorMsg.textContent = 'Please enter email and password';
        errorMsg.classList.remove('hidden');
        return;
      }

      // Demo authentication (accepts any valid email format with password length >= 4)
      if (password.length < 4) {
        errorMsg.textContent = 'Password must be at least 4 characters';
        errorMsg.classList.remove('hidden');
        return;
      }

      // Show loading state
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2">Signing in...</span>';

      // Simulate auth delay
      setTimeout(() => {
        const role = ROLES[roleId];
        
        // Create session
        const session = {
          id: 'session_' + Date.now(),
          created: new Date().toISOString(),
          expires: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString() // 24 hours
        };

        // Create user object
        const user = {
          email: email,
          name: role.fullName,
          role: role.id,
          roleName: role.name,
          icon: role.icon
        };

        // Store in localStorage
        localStorage.setItem('MP_SESSION', JSON.stringify(session));
        localStorage.setItem('MP_USER', JSON.stringify(user));

        // Log activity (would go to Supabase in production)
        console.log('[MissionPulse] Login successful:', user);

        // Redirect to dashboard
        window.location.href = 'index.html';
      }, 800);
    });
  </script>
</body>
</html>
