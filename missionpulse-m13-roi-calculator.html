<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MissionPulse M13 - ROI Calculator</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="MMT_icon_transparent.png">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Space Grotesk', sans-serif; background: #00050F; min-height: 100vh; }
    .font-mono { font-family: 'JetBrains Mono', monospace; }
    
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes barGrow { from { transform: scaleY(0); } to { transform: scaleY(1); } }
    @keyframes countUp { from { opacity: 0; } to { opacity: 1; } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(0, 229, 250, 0.3); } 50% { box-shadow: 0 0 40px rgba(0, 229, 250, 0.6); } }
    
    .animate-fade-up { animation: fadeInUp 0.6s ease-out forwards; }
    .animate-bar-grow { animation: barGrow 0.8s ease-out forwards; transform-origin: bottom; }
    .animate-pulse { animation: pulse 2s ease-in-out infinite; }
    .animate-slide-in { animation: slideIn 0.5s ease-out forwards; }
    .animate-glow { animation: glow 2s ease-in-out infinite; }
    
    .glass-card {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(15, 23, 42, 0.7) 100%);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 229, 250, 0.2);
    }
    
    .scrollbar-thin::-webkit-scrollbar { width: 6px; }
    .scrollbar-thin::-webkit-scrollbar-track { background: rgba(15, 23, 42, 0.5); border-radius: 3px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(0, 229, 250, 0.3); border-radius: 3px; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    // Icons Library
    const Icons = {
      chart: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>,
      trending: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>,
      dollar: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
      clock: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" strokeWidth={2}/><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6l4 2" /></svg>,
      target: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" strokeWidth={2}/><circle cx="12" cy="12" r="6" strokeWidth={2}/><circle cx="12" cy="12" r="2" strokeWidth={2}/></svg>,
      funnel: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" /></svg>,
      users: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>,
      building: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>,
      lightbulb: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>,
      filter: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" /></svg>,
      calendar: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>,
      link: () => <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>,
    };

    const Icon = ({ name, className = "w-5 h-5" }) => {
      const IconComponent = Icons[name];
      return IconComponent ? <span className={`inline-block ${className}`}><IconComponent /></span> : null;
    };

    // Pipeline Data
    const PIPELINE_DATA = {
      identified: { count: 45, value: 892000000 },
      qualified: { count: 28, value: 567000000 },
      pursuing: { count: 15, value: 312000000 },
      submitted: { count: 8, value: 189000000 },
      won: { count: 4, value: 87500000 },
    };

    // Win/Loss by Agency
    const AGENCY_METRICS = [
      { agency: 'DHA', wins: 3, losses: 2, pending: 2, winRate: 60, totalValue: 45000000 },
      { agency: 'VA', wins: 2, losses: 3, pending: 1, winRate: 40, totalValue: 28000000 },
      { agency: 'CMS', wins: 1, losses: 1, pending: 3, winRate: 50, totalValue: 52000000 },
      { agency: 'IHS', wins: 1, losses: 0, pending: 1, winRate: 100, totalValue: 12000000 },
      { agency: 'NIH', wins: 0, losses: 2, pending: 2, winRate: 0, totalValue: 18000000 },
    ];

    // Win/Loss by Vehicle
    const VEHICLE_METRICS = [
      { vehicle: 'SEWP V', wins: 2, losses: 1, winRate: 67 },
      { vehicle: '8(a) STARS III', wins: 3, losses: 2, winRate: 60 },
      { vehicle: 'CIO-SP3', wins: 1, losses: 3, winRate: 25 },
      { vehicle: 'Open Market', wins: 1, losses: 1, winRate: 50 },
    ];

    // Team Lead Performance
    const TEAM_LEADS = [
      { name: 'Jennifer Park', role: 'CAP', proposals: 8, wins: 5, winRate: 63, avgPwin: 72 },
      { name: 'Marcus Williams', role: 'PM', proposals: 6, wins: 3, winRate: 50, avgPwin: 58 },
      { name: 'Sarah Chen', role: 'SA', proposals: 7, wins: 4, winRate: 57, avgPwin: 65 },
      { name: 'David Kim', role: 'FIN', proposals: 5, wins: 2, winRate: 40, avgPwin: 52 },
    ];

    // Win Theme Effectiveness
    const WIN_THEMES = [
      { theme: 'AI/ML Innovation', used: 12, won: 8, effectiveness: 67 },
      { theme: 'Healthcare IT Expertise', used: 15, won: 9, effectiveness: 60 },
      { theme: 'SDVOSB Set-Aside', used: 8, won: 6, effectiveness: 75 },
      { theme: 'Cost Efficiency', used: 10, won: 4, effectiveness: 40 },
      { theme: 'Past Performance', used: 14, won: 7, effectiveness: 50 },
    ];

    // Monthly Revenue Data
    const REVENUE_DATA = [
      { month: 'Jul', forecast: 2.1, actual: 1.8 },
      { month: 'Aug', forecast: 2.4, actual: 2.6 },
      { month: 'Sep', forecast: 2.8, actual: 2.9 },
      { month: 'Oct', forecast: 3.2, actual: 3.5 },
      { month: 'Nov', forecast: 3.6, actual: 3.4 },
      { month: 'Dec', forecast: 4.0, actual: 4.2 },
      { month: 'Jan', forecast: 4.5, actual: null },
      { month: 'Feb', forecast: 5.0, actual: null },
    ];

    // Animated Counter
    const AnimatedCounter = ({ end, duration = 1000, prefix = '', suffix = '', decimals = 0 }) => {
      const [count, setCount] = useState(0);
      useEffect(() => {
        let start = 0;
        const increment = end / (duration / 16);
        const timer = setInterval(() => {
          start += increment;
          if (start >= end) { setCount(end); clearInterval(timer); } 
          else { setCount(start); }
        }, 16);
        return () => clearInterval(timer);
      }, [end, duration]);
      return <span>{prefix}{decimals > 0 ? count.toFixed(decimals) : Math.floor(count).toLocaleString()}{suffix}</span>;
    };

    // Pipeline Funnel
    const PipelineFunnel = ({ data }) => {
      const stages = [
        { key: 'identified', label: 'Identified', color: 'from-slate-500 to-slate-600' },
        { key: 'qualified', label: 'Qualified', color: 'from-purple-500 to-purple-600' },
        { key: 'pursuing', label: 'Pursuing', color: 'from-cyan-500 to-cyan-600' },
        { key: 'submitted', label: 'Submitted', color: 'from-amber-500 to-amber-600' },
        { key: 'won', label: 'Won', color: 'from-emerald-500 to-emerald-600' },
      ];

      const maxWidth = 100;
      const maxCount = data.identified.count;

      return (
        <div className="space-y-3">
          {stages.map((stage, idx) => {
            const stageData = data[stage.key];
            const width = (stageData.count / maxCount) * maxWidth;
            return (
              <div key={stage.key} className="animate-slide-in" style={{ animationDelay: `${idx * 100}ms` }}>
                <div className="flex items-center justify-between mb-1">
                  <span className="text-sm text-slate-400">{stage.label}</span>
                  <div className="flex items-center gap-3 text-sm">
                    <span className="font-mono text-white">{stageData.count}</span>
                    <span className="text-slate-500">•</span>
                    <span className="font-mono text-cyan-400">${(stageData.value / 1000000).toFixed(0)}M</span>
                  </div>
                </div>
                <div className="h-8 bg-slate-800/50 rounded-lg overflow-hidden">
                  <div 
                    className={`h-full bg-gradient-to-r ${stage.color} rounded-lg transition-all duration-1000`}
                    style={{ width: `${width}%` }}
                  />
                </div>
              </div>
            );
          })}
        </div>
      );
    };

    // Revenue Chart
    const RevenueChart = ({ data }) => {
      const maxValue = Math.max(...data.map(d => Math.max(d.forecast, d.actual || 0)));
      const chartHeight = 200;

      return (
        <div className="relative">
          <div className="flex items-end justify-between gap-2" style={{ height: chartHeight }}>
            {data.map((item, idx) => {
              const forecastHeight = (item.forecast / maxValue) * chartHeight;
              const actualHeight = item.actual ? (item.actual / maxValue) * chartHeight : 0;
              
              return (
                <div key={item.month} className="flex-1 flex items-end gap-1">
                  {/* Forecast Bar */}
                  <div 
                    className="flex-1 bg-slate-700/50 rounded-t animate-bar-grow"
                    style={{ height: forecastHeight, animationDelay: `${idx * 100}ms` }}
                  />
                  {/* Actual Bar */}
                  {item.actual && (
                    <div 
                      className="flex-1 bg-gradient-to-t from-cyan-500 to-teal-400 rounded-t animate-bar-grow"
                      style={{ height: actualHeight, animationDelay: `${idx * 100 + 50}ms` }}
                    />
                  )}
                </div>
              );
            })}
          </div>
          <div className="flex justify-between mt-2 text-xs text-slate-500">
            {data.map(item => <span key={item.month}>{item.month}</span>)}
          </div>
          <div className="flex items-center gap-4 mt-4 text-xs">
            <div className="flex items-center gap-2">
              <div className="w-3 h-3 rounded bg-slate-700" />
              <span className="text-slate-400">Forecast</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-3 h-3 rounded bg-gradient-to-t from-cyan-500 to-teal-400" />
              <span className="text-slate-400">Actual</span>
            </div>
          </div>
        </div>
      );
    };

    // Main Component
    const ROICalculator = () => {
      const [dateRange, setDateRange] = useState('fy2026');
      const [selectedAgency, setSelectedAgency] = useState('all');

      // Calculate summary metrics
      const totalBDSpend = 847500; // B&P costs
      const totalContractValue = 87500000; // Won contracts
      const roi = ((totalContractValue - totalBDSpend) / totalBDSpend * 100).toFixed(0);
      const avgTimeToWin = 127; // days
      const costPerProposal = Math.round(totalBDSpend / 15); // 15 proposals submitted
      const overallWinRate = Math.round((PIPELINE_DATA.won.count / PIPELINE_DATA.submitted.count) * 100);

      return (
        <div className="min-h-screen bg-[#00050F] text-white p-6">
          {/* Header */}
          <div className="max-w-7xl mx-auto mb-6">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-4">
                <div className="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center shadow-lg shadow-emerald-500/30">
                  <Icon name="chart" className="w-7 h-7 text-white" />
                </div>
                <div>
                  <h1 className="text-2xl font-bold">M13: ROI Calculator</h1>
                  <p className="text-slate-400 text-sm">Pipeline Analytics & Performance Metrics</p>
                </div>
              </div>
              
              {/* Filters */}
              <div className="flex items-center gap-3">
                <select 
                  value={dateRange}
                  onChange={(e) => setDateRange(e.target.value)}
                  className="px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500"
                >
                  <option value="fy2026">FY 2026</option>
                  <option value="fy2025">FY 2025</option>
                  <option value="q1">Q1 FY26</option>
                  <option value="q2">Q2 FY26</option>
                </select>
                <select 
                  value={selectedAgency}
                  onChange={(e) => setSelectedAgency(e.target.value)}
                  className="px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500"
                >
                  <option value="all">All Agencies</option>
                  <option value="dha">DHA</option>
                  <option value="va">VA</option>
                  <option value="cms">CMS</option>
                </select>
              </div>
            </div>
          </div>

          <div className="max-w-7xl mx-auto">
            {/* KPI Cards */}
            <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6">
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '0ms' }}>
                <div className="w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-2">
                  <Icon name="trending" className="w-4 h-4 text-emerald-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-emerald-400">
                  <AnimatedCounter end={parseInt(roi)} suffix="%" />
                </div>
                <div className="text-xs text-slate-500">ROI</div>
              </div>
              
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '50ms' }}>
                <div className="w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center mb-2">
                  <Icon name="target" className="w-4 h-4 text-cyan-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-cyan-400">
                  <AnimatedCounter end={overallWinRate} suffix="%" />
                </div>
                <div className="text-xs text-slate-500">Win Rate</div>
              </div>
              
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '100ms' }}>
                <div className="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center mb-2">
                  <Icon name="dollar" className="w-4 h-4 text-purple-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-purple-400">
                  $<AnimatedCounter end={87.5} decimals={1} suffix="M" />
                </div>
                <div className="text-xs text-slate-500">Contract Value</div>
              </div>
              
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '150ms' }}>
                <div className="w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center mb-2">
                  <Icon name="dollar" className="w-4 h-4 text-amber-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-amber-400">
                  $<AnimatedCounter end={847} suffix="K" />
                </div>
                <div className="text-xs text-slate-500">B&P Spend</div>
              </div>
              
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '200ms' }}>
                <div className="w-8 h-8 rounded-lg bg-rose-500/20 flex items-center justify-center mb-2">
                  <Icon name="clock" className="w-4 h-4 text-rose-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-rose-400">
                  <AnimatedCounter end={avgTimeToWin} suffix="d" />
                </div>
                <div className="text-xs text-slate-500">Avg Time-to-Win</div>
              </div>
              
              <div className="glass-card rounded-xl p-4 animate-fade-up" style={{ animationDelay: '250ms' }}>
                <div className="w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center mb-2">
                  <Icon name="chart" className="w-4 h-4 text-indigo-400" />
                </div>
                <div className="text-2xl font-bold font-mono text-indigo-400">
                  $<AnimatedCounter end={Math.round(costPerProposal / 1000)} suffix="K" />
                </div>
                <div className="text-xs text-slate-500">Cost/Proposal</div>
              </div>
            </div>

            {/* Main Grid */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
              {/* Pipeline Funnel */}
              <div className="glass-card rounded-2xl p-6">
                <div className="flex items-center gap-3 mb-6">
                  <div className="w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center">
                    <Icon name="funnel" className="w-5 h-5 text-cyan-400" />
                  </div>
                  <div>
                    <h2 className="text-lg font-semibold">Pipeline Funnel</h2>
                    <p className="text-xs text-slate-500">Opportunities → Wins</p>
                  </div>
                </div>
                <PipelineFunnel data={PIPELINE_DATA} />
              </div>

              {/* Forecast vs Actual */}
              <div className="glass-card rounded-2xl p-6">
                <div className="flex items-center gap-3 mb-6">
                  <div className="w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center">
                    <Icon name="chart" className="w-5 h-5 text-emerald-400" />
                  </div>
                  <div>
                    <h2 className="text-lg font-semibold">Revenue: Forecast vs Actual</h2>
                    <p className="text-xs text-slate-500">Monthly comparison ($M)</p>
                  </div>
                </div>
                <RevenueChart data={REVENUE_DATA} />
              </div>
            </div>

            {/* Win/Loss Tables */}
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
              {/* By Agency */}
              <div className="glass-card rounded-2xl p-6">
                <div className="flex items-center gap-3 mb-4">
                  <div className="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center">
                    <Icon name="building" className="w-4 h-4 text-purple-400" />
                  </div>
                  <h3 className="font-semibold">Win/Loss by Agency</h3>
                </div>
                <div className="space-y-3">
                  {AGENCY_METRICS.map((item, idx) => (
                    <div key={item.agency} className="flex items-center justify-between p-2 bg-slate-800/30 rounded-lg animate-slide-in" style={{ animationDelay: `${idx * 50}ms` }}>
                      <div className="flex items-center gap-2">
                        <span className="font-medium text-white">{item.agency}</span>
                        <span className="text-xs text-slate-500">${(item.totalValue / 1000000).toFixed(0)}M</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <span className="text-xs text-emerald-400">{item.wins}W</span>
                        <span className="text-xs text-slate-600">/</span>
                        <span className="text-xs text-rose-400">{item.losses}L</span>
                        <div className={`w-12 text-right text-xs font-mono ${item.winRate >= 50 ? 'text-emerald-400' : 'text-amber-400'}`}>
                          {item.winRate}%
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* By Vehicle */}
              <div className="glass-card rounded-2xl p-6">
                <div className="flex items-center gap-3 mb-4">
                  <div className="w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center">
                    <Icon name="link" className="w-4 h-4 text-amber-400" />
                  </div>
                  <h3 className="font-semibold">Win/Loss by Vehicle</h3>
                </div>
                <div className="space-y-3">
                  {VEHICLE_METRICS.map((item, idx) => (
                    <div key={item.vehicle} className="animate-slide-in" style={{ animationDelay: `${idx * 50}ms` }}>
                      <div className="flex items-center justify-between mb-1">
                        <span className="text-sm text-slate-300">{item.vehicle}</span>
                        <span className={`text-xs font-mono ${item.winRate >= 50 ? 'text-emerald-400' : 'text-amber-400'}`}>
                          {item.winRate}%
                        </span>
                      </div>
                      <div className="h-2 bg-slate-800 rounded-full overflow-hidden">
                        <div 
                          className={`h-full rounded-full ${item.winRate >= 50 ? 'bg-emerald-500' : 'bg-amber-500'}`}
                          style={{ width: `${item.winRate}%` }}
                        />
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* By Team Lead */}
              <div className="glass-card rounded-2xl p-6">
                <div className="flex items-center gap-3 mb-4">
                  <div className="w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center">
                    <Icon name="users" className="w-4 h-4 text-cyan-400" />
                  </div>
                  <h3 className="font-semibold">Team Lead Performance</h3>
                </div>
                <div className="space-y-3">
                  {TEAM_LEADS.map((lead, idx) => (
                    <div key={lead.name} className="flex items-center justify-between p-2 bg-slate-800/30 rounded-lg animate-slide-in" style={{ animationDelay: `${idx * 50}ms` }}>
                      <div>
                        <div className="font-medium text-white text-sm">{lead.name}</div>
                        <div className="text-xs text-slate-500">{lead.role} • {lead.proposals} proposals</div>
                      </div>
                      <div className="text-right">
                        <div className={`text-sm font-mono ${lead.winRate >= 50 ? 'text-emerald-400' : 'text-amber-400'}`}>
                          {lead.winRate}% win
                        </div>
                        <div className="text-xs text-slate-500">pWin avg: {lead.avgPwin}%</div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* Win Theme Effectiveness */}
            <div className="glass-card rounded-2xl p-6 mb-6">
              <div className="flex items-center justify-between mb-6">
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center">
                    <Icon name="lightbulb" className="w-5 h-5 text-amber-400" />
                  </div>
                  <div>
                    <h2 className="text-lg font-semibold">Win Theme Effectiveness</h2>
                    <p className="text-xs text-slate-500">Which themes drive wins?</p>
                  </div>
                </div>
                <button className="text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1">
                  <Icon name="link" className="w-3 h-3" />
                  Link to M15 Lessons
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-5 gap-4">
                {WIN_THEMES.map((theme, idx) => (
                  <div key={theme.theme} className="text-center animate-fade-up" style={{ animationDelay: `${idx * 100}ms` }}>
                    <div className="relative w-20 h-20 mx-auto mb-3">
                      <svg className="w-20 h-20 transform -rotate-90">
                        <circle cx="40" cy="40" r="35" stroke="rgba(100,116,139,0.3)" strokeWidth="6" fill="none" />
                        <circle 
                          cx="40" cy="40" r="35" 
                          stroke={theme.effectiveness >= 60 ? '#10b981' : theme.effectiveness >= 40 ? '#f59e0b' : '#ef4444'}
                          strokeWidth="6" 
                          fill="none"
                          strokeDasharray={`${(theme.effectiveness / 100) * 220} 220`}
                          strokeLinecap="round"
                        />
                      </svg>
                      <div className="absolute inset-0 flex items-center justify-center">
                        <span className={`text-lg font-bold font-mono ${theme.effectiveness >= 60 ? 'text-emerald-400' : theme.effectiveness >= 40 ? 'text-amber-400' : 'text-rose-400'}`}>
                          {theme.effectiveness}%
                        </span>
                      </div>
                    </div>
                    <div className="text-sm text-white mb-1">{theme.theme}</div>
                    <div className="text-xs text-slate-500">{theme.won}/{theme.used} wins</div>
                  </div>
                ))}
              </div>
            </div>

            {/* Investment Summary */}
            <div className="glass-card rounded-2xl p-6">
              <div className="flex items-center gap-3 mb-6">
                <div className="w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center">
                  <Icon name="dollar" className="w-5 h-5 text-emerald-400" />
                </div>
                <div>
                  <h2 className="text-lg font-semibold">Investment Summary</h2>
                  <p className="text-xs text-slate-500">BD spend vs contract value</p>
                </div>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div className="text-center p-4 bg-slate-800/30 rounded-xl">
                  <div className="text-sm text-slate-400 mb-2">Total B&P Spend</div>
                  <div className="text-3xl font-bold font-mono text-amber-400">$847.5K</div>
                  <div className="text-xs text-slate-500 mt-1">15 proposals submitted</div>
                </div>
                <div className="text-center p-4 bg-slate-800/30 rounded-xl">
                  <div className="text-sm text-slate-400 mb-2">Won Contract Value</div>
                  <div className="text-3xl font-bold font-mono text-emerald-400">$87.5M</div>
                  <div className="text-xs text-slate-500 mt-1">4 contracts awarded</div>
                </div>
                <div className="text-center p-4 bg-slate-800/30 rounded-xl">
                  <div className="text-sm text-slate-400 mb-2">ROI Multiplier</div>
                  <div className="text-3xl font-bold font-mono text-cyan-400">103x</div>
                  <div className="text-xs text-slate-500 mt-1">Return on B&P investment</div>
                </div>
                <div className="text-center p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/30 animate-glow">
                  <div className="text-sm text-emerald-400 mb-2">Net Gain</div>
                  <div className="text-3xl font-bold font-mono text-emerald-400">$86.7M</div>
                  <div className="text-xs text-emerald-300/70 mt-1">Contract value - B&P</div>
                </div>
              </div>
            </div>
          </div>

          {/* AI Disclaimer Footer */}
          <div className="max-w-7xl mx-auto mt-8 text-center">
            <p className="text-xs text-slate-600">AI GENERATED - REQUIRES HUMAN REVIEW • MissionPulse v2.0 © 2026 Mission Meets Tech</p>
          </div>
        </div>
      );
    };

    ReactDOM.render(<ROICalculator />, document.getElementById('root'));
  </script>
  <script src="render-api-client.js"></script>
  <script src="ai-chat-widget.js"></script>
</body>
</html>
