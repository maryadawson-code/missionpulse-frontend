<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Dashboard - MissionPulse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mp-navy': '#00050F',
                        'mp-cyan': '#00E5FA',
                        'mp-slate': '#0A1628',
                        'mp-dark': '#020817'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        .glow-cyan { box-shadow: 0 0 20px rgba(0, 229, 250, 0.3); }
        .gradient-border { background: linear-gradient(135deg, rgba(0,229,250,0.2) 0%, rgba(0,229,250,0) 100%); }
        .kpi-card:hover { transform: translateY(-2px); transition: all 0.2s ease; }
        .trend-up { color: #10B981; }
        .trend-down { color: #EF4444; }
        .sparkline { background: linear-gradient(to right, rgba(0,229,250,0.1), rgba(0,229,250,0.3)); }
    </style>
</head>
<body class="bg-mp-navy text-white min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useMemo } = React;

        // Demo KPI Data
        const kpiData = {
            pipelineValue: { value: 847000000, change: 12.5, trend: 'up', label: 'Pipeline Value', format: 'currency' },
            activeOpportunities: { value: 12, change: 3, trend: 'up', label: 'Active Opportunities', format: 'number' },
            winRate: { value: 42, change: 5.2, trend: 'up', label: 'Win Rate', format: 'percent' },
            avgDealSize: { value: 70583333, change: -2.1, trend: 'down', label: 'Avg Deal Size', format: 'currency' },
            proposalsInProgress: { value: 8, change: 2, trend: 'up', label: 'Proposals In Progress', format: 'number' },
            submissionsThisQuarter: { value: 5, change: 1, trend: 'up', label: 'Submissions This Quarter', format: 'number' },
            revenueWeighted: { value: 355740000, change: 8.3, trend: 'up', label: 'Revenue (Weighted)', format: 'currency' },
            teamUtilization: { value: 78, change: -3.5, trend: 'down', label: 'Team Utilization', format: 'percent' }
        };

        // Pipeline by Phase
        const pipelineByPhase = [
            { phase: 'Identification', count: 3, value: 125000000, color: '#6366F1' },
            { phase: 'Qualification', count: 2, value: 180000000, color: '#8B5CF6' },
            { phase: 'Capture', count: 4, value: 312000000, color: '#00E5FA' },
            { phase: 'Proposal', count: 2, value: 150000000, color: '#F59E0B' },
            { phase: 'Submitted', count: 1, value: 80000000, color: '#10B981' }
        ];

        // Revenue Forecast by Quarter
        const revenueForecast = [
            { quarter: 'Q1 2025', projected: 85000000, weighted: 42500000, probability: 50 },
            { quarter: 'Q2 2025', projected: 150000000, weighted: 67500000, probability: 45 },
            { quarter: 'Q3 2025', projected: 280000000, weighted: 112000000, probability: 40 },
            { quarter: 'Q4 2025', projected: 332000000, weighted: 133800000, probability: 40 }
        ];

        // Top Opportunities
        const topOpportunities = [
            { id: 1, name: 'DHA EHR Modernization', value: 125000000, pwin: 65, phase: 'Proposal', dueDate: '2025-02-15', customer: 'DHA' },
            { id: 2, name: 'VA Claims Processing', value: 89000000, pwin: 55, phase: 'Capture', dueDate: '2025-03-01', customer: 'VA' },
            { id: 3, name: 'CMS Data Analytics', value: 75000000, pwin: 45, phase: 'Capture', dueDate: '2025-04-15', customer: 'CMS' },
            { id: 4, name: 'IHS Telehealth Platform', value: 62000000, pwin: 70, phase: 'Proposal', dueDate: '2025-02-28', customer: 'IHS' },
            { id: 5, name: 'NIH Research Portal', value: 48000000, pwin: 40, phase: 'Qualification', dueDate: '2025-05-01', customer: 'NIH' }
        ];

        // Win/Loss Trend
        const winLossTrend = [
            { month: 'Aug', wins: 2, losses: 1, submissions: 3 },
            { month: 'Sep', wins: 1, losses: 2, submissions: 3 },
            { month: 'Oct', wins: 3, losses: 1, submissions: 4 },
            { month: 'Nov', wins: 2, losses: 0, submissions: 2 },
            { month: 'Dec', wins: 1, losses: 1, submissions: 2 },
            { month: 'Jan', wins: 2, losses: 1, submissions: 3 }
        ];

        // Alerts
        const executiveAlerts = [
            { id: 1, type: 'deadline', message: 'DHA EHR Modernization due in 17 days', priority: 'critical', opportunity: 'DHA EHR Modernization' },
            { id: 2, type: 'pwin', message: 'VA Claims Processing pWin dropped below 60%', priority: 'high', opportunity: 'VA Claims Processing' },
            { id: 3, type: 'resource', message: '2 team members overloaded (>100% utilization)', priority: 'high', opportunity: null },
            { id: 4, type: 'milestone', message: 'CMS Data Analytics entering Capture phase', priority: 'medium', opportunity: 'CMS Data Analytics' },
            { id: 5, type: 'approval', message: 'Pricing approval needed for IHS Telehealth', priority: 'high', opportunity: 'IHS Telehealth Platform' }
        ];

        function ExecutiveDashboard() {
            const [selectedPeriod, setSelectedPeriod] = useState('quarter');
            const [showAlertDetail, setShowAlertDetail] = useState(null);

            const formatValue = (value, format) => {
                switch(format) {
                    case 'currency':
                        if (value >= 1000000000) return `$${(value / 1000000000).toFixed(1)}B`;
                        if (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;
                        return `$${value.toLocaleString()}`;
                    case 'percent':
                        return `${value}%`;
                    default:
                        return value.toLocaleString();
                }
            };

            const getAlertIcon = (type) => {
                const icons = {
                    deadline: 'â°',
                    pwin: 'ðŸ“‰',
                    resource: 'ðŸ‘¥',
                    milestone: 'ðŸŽ¯',
                    approval: 'âœ…'
                };
                return icons[type] || 'ðŸ“‹';
            };

            const getPriorityColor = (priority) => {
                const colors = {
                    critical: 'bg-red-500/20 text-red-400 border-red-500/30',
                    high: 'bg-orange-500/20 text-orange-400 border-orange-500/30',
                    medium: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',
                    low: 'bg-blue-500/20 text-blue-400 border-blue-500/30'
                };
                return colors[priority] || colors.medium;
            };

            const totalPipelineValue = pipelineByPhase.reduce((sum, p) => sum + p.value, 0);

            return (
                <div className="min-h-screen bg-mp-navy">
                    {/* Header */}
                    <header className="bg-mp-slate/50 border-b border-mp-cyan/20 px-6 py-4">
                        <div className="flex items-center justify-between">
                            <div>
                                <h1 className="text-2xl font-bold text-white">Executive Dashboard</h1>
                                <p className="text-sm text-slate-400 mt-1">C-Suite View â€¢ Real-time KPIs</p>
                            </div>
                            <div className="flex items-center gap-4">
                                <select 
                                    value={selectedPeriod}
                                    onChange={(e) => setSelectedPeriod(e.target.value)}
                                    className="bg-mp-slate border border-mp-cyan/30 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-mp-cyan"
                                >
                                    <option value="month">This Month</option>
                                    <option value="quarter">This Quarter</option>
                                    <option value="year">This Year</option>
                                    <option value="all">All Time</option>
                                </select>
                                <div className="text-right">
                                    <div className="text-xs text-slate-400">Last Updated</div>
                                    <div className="text-sm text-mp-cyan">Just now</div>
                                </div>
                            </div>
                        </div>
                    </header>

                    <main className="p-6 space-y-6">
                        {/* KPI Cards - Top Row */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {Object.entries(kpiData).slice(0, 4).map(([key, kpi]) => (
                                <div key={key} className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 kpi-card">
                                    <div className="text-xs text-slate-400 uppercase tracking-wide">{kpi.label}</div>
                                    <div className="text-2xl font-bold text-white mt-2">
                                        {formatValue(kpi.value, kpi.format)}
                                    </div>
                                    <div className={`text-sm mt-1 flex items-center gap-1 ${kpi.trend === 'up' ? 'trend-up' : 'trend-down'}`}>
                                        <span>{kpi.trend === 'up' ? 'â†‘' : 'â†“'}</span>
                                        <span>{Math.abs(kpi.change)}{kpi.format === 'percent' ? ' pts' : '%'}</span>
                                        <span className="text-slate-500 text-xs">vs last period</span>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* KPI Cards - Second Row */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {Object.entries(kpiData).slice(4).map(([key, kpi]) => (
                                <div key={key} className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 kpi-card">
                                    <div className="text-xs text-slate-400 uppercase tracking-wide">{kpi.label}</div>
                                    <div className="text-2xl font-bold text-white mt-2">
                                        {formatValue(kpi.value, kpi.format)}
                                    </div>
                                    <div className={`text-sm mt-1 flex items-center gap-1 ${kpi.trend === 'up' ? 'trend-up' : 'trend-down'}`}>
                                        <span>{kpi.trend === 'up' ? 'â†‘' : 'â†“'}</span>
                                        <span>{Math.abs(kpi.change)}{kpi.format === 'percent' ? ' pts' : '%'}</span>
                                        <span className="text-slate-500 text-xs">vs last period</span>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Main Content Grid */}
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            {/* Pipeline by Phase */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Pipeline by Phase</h3>
                                <div className="space-y-3">
                                    {pipelineByPhase.map((phase, idx) => (
                                        <div key={idx}>
                                            <div className="flex justify-between text-sm mb-1">
                                                <span className="text-slate-300">{phase.phase}</span>
                                                <span className="text-white font-medium">{formatValue(phase.value, 'currency')}</span>
                                            </div>
                                            <div className="h-3 bg-mp-navy rounded-full overflow-hidden">
                                                <div 
                                                    className="h-full rounded-full transition-all duration-500"
                                                    style={{ 
                                                        width: `${(phase.value / totalPipelineValue) * 100}%`,
                                                        backgroundColor: phase.color
                                                    }}
                                                />
                                            </div>
                                            <div className="text-xs text-slate-500 mt-1">{phase.count} opportunities</div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Revenue Forecast */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Revenue Forecast</h3>
                                <div className="space-y-4">
                                    {revenueForecast.map((q, idx) => (
                                        <div key={idx} className="border-b border-mp-cyan/10 pb-3 last:border-0">
                                            <div className="flex justify-between items-center mb-2">
                                                <span className="text-sm font-medium text-white">{q.quarter}</span>
                                                <span className="text-xs text-slate-400">{q.probability}% avg pWin</span>
                                            </div>
                                            <div className="grid grid-cols-2 gap-2 text-sm">
                                                <div>
                                                    <div className="text-xs text-slate-500">Projected</div>
                                                    <div className="text-slate-300">{formatValue(q.projected, 'currency')}</div>
                                                </div>
                                                <div>
                                                    <div className="text-xs text-slate-500">Weighted</div>
                                                    <div className="text-mp-cyan font-medium">{formatValue(q.weighted, 'currency')}</div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Executive Alerts */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-semibold text-white">Executive Alerts</h3>
                                    <span className="bg-red-500/20 text-red-400 text-xs px-2 py-1 rounded-full">
                                        {executiveAlerts.filter(a => a.priority === 'critical' || a.priority === 'high').length} urgent
                                    </span>
                                </div>
                                <div className="space-y-3 max-h-80 overflow-y-auto">
                                    {executiveAlerts.map((alert) => (
                                        <div 
                                            key={alert.id}
                                            onClick={() => setShowAlertDetail(alert)}
                                            className={`p-3 rounded-lg border cursor-pointer hover:bg-mp-navy/50 transition-colors ${getPriorityColor(alert.priority)}`}
                                        >
                                            <div className="flex items-start gap-2">
                                                <span className="text-lg">{getAlertIcon(alert.type)}</span>
                                                <div className="flex-1 min-w-0">
                                                    <p className="text-sm text-white">{alert.message}</p>
                                                    {alert.opportunity && (
                                                        <p className="text-xs text-slate-400 mt-1">{alert.opportunity}</p>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Top Opportunities Table */}
                        <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                            <h3 className="text-lg font-semibold text-white mb-4">Top Opportunities by Value</h3>
                            <div className="overflow-x-auto">
                                <table className="w-full">
                                    <thead>
                                        <tr className="text-left text-xs text-slate-400 uppercase tracking-wide border-b border-mp-cyan/20">
                                            <th className="pb-3 pr-4">Opportunity</th>
                                            <th className="pb-3 pr-4">Customer</th>
                                            <th className="pb-3 pr-4">Value</th>
                                            <th className="pb-3 pr-4">pWin</th>
                                            <th className="pb-3 pr-4">Phase</th>
                                            <th className="pb-3">Due Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {topOpportunities.map((opp) => (
                                            <tr key={opp.id} className="border-b border-mp-cyan/10 hover:bg-mp-navy/30">
                                                <td className="py-3 pr-4">
                                                    <span className="text-white font-medium">{opp.name}</span>
                                                </td>
                                                <td className="py-3 pr-4">
                                                    <span className="text-xs bg-mp-cyan/20 text-mp-cyan px-2 py-1 rounded">{opp.customer}</span>
                                                </td>
                                                <td className="py-3 pr-4 text-slate-300">{formatValue(opp.value, 'currency')}</td>
                                                <td className="py-3 pr-4">
                                                    <div className="flex items-center gap-2">
                                                        <div className="w-16 h-2 bg-mp-navy rounded-full overflow-hidden">
                                                            <div 
                                                                className="h-full rounded-full"
                                                                style={{ 
                                                                    width: `${opp.pwin}%`,
                                                                    backgroundColor: opp.pwin >= 60 ? '#10B981' : opp.pwin >= 40 ? '#F59E0B' : '#EF4444'
                                                                }}
                                                            />
                                                        </div>
                                                        <span className="text-sm text-slate-300">{opp.pwin}%</span>
                                                    </div>
                                                </td>
                                                <td className="py-3 pr-4">
                                                    <span className={`text-xs px-2 py-1 rounded ${
                                                        opp.phase === 'Proposal' ? 'bg-yellow-500/20 text-yellow-400' :
                                                        opp.phase === 'Capture' ? 'bg-blue-500/20 text-blue-400' :
                                                        'bg-purple-500/20 text-purple-400'
                                                    }`}>{opp.phase}</span>
                                                </td>
                                                <td className="py-3 text-slate-400 text-sm">{opp.dueDate}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        {/* Win/Loss Trend */}
                        <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                            <h3 className="text-lg font-semibold text-white mb-4">Win/Loss Trend (6 Months)</h3>
                            <div className="flex items-end justify-between h-40 gap-2">
                                {winLossTrend.map((month, idx) => {
                                    const maxSubmissions = Math.max(...winLossTrend.map(m => m.submissions));
                                    const winHeight = (month.wins / maxSubmissions) * 100;
                                    const lossHeight = (month.losses / maxSubmissions) * 100;
                                    return (
                                        <div key={idx} className="flex-1 flex flex-col items-center">
                                            <div className="flex-1 w-full flex items-end justify-center gap-1">
                                                <div 
                                                    className="w-5 bg-green-500 rounded-t transition-all duration-300"
                                                    style={{ height: `${winHeight}%` }}
                                                    title={`${month.wins} wins`}
                                                />
                                                <div 
                                                    className="w-5 bg-red-500 rounded-t transition-all duration-300"
                                                    style={{ height: `${lossHeight}%` }}
                                                    title={`${month.losses} losses`}
                                                />
                                            </div>
                                            <div className="text-xs text-slate-400 mt-2">{month.month}</div>
                                            <div className="text-xs text-slate-500">{month.wins}W / {month.losses}L</div>
                                        </div>
                                    );
                                })}
                            </div>
                            <div className="flex justify-center gap-6 mt-4">
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-green-500 rounded"></div>
                                    <span className="text-xs text-slate-400">Wins</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-red-500 rounded"></div>
                                    <span className="text-xs text-slate-400">Losses</span>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Alert Detail Modal */}
                    {showAlertDetail && (
                        <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4" onClick={() => setShowAlertDetail(null)}>
                            <div className="bg-mp-slate border border-mp-cyan/30 rounded-xl p-6 max-w-md w-full" onClick={e => e.stopPropagation()}>
                                <div className="flex items-center gap-3 mb-4">
                                    <span className="text-3xl">{getAlertIcon(showAlertDetail.type)}</span>
                                    <div>
                                        <h3 className="text-lg font-semibold text-white capitalize">{showAlertDetail.type} Alert</h3>
                                        <span className={`text-xs px-2 py-0.5 rounded ${getPriorityColor(showAlertDetail.priority)}`}>
                                            {showAlertDetail.priority} priority
                                        </span>
                                    </div>
                                </div>
                                <p className="text-slate-300 mb-4">{showAlertDetail.message}</p>
                                {showAlertDetail.opportunity && (
                                    <div className="bg-mp-navy/50 rounded-lg p-3 mb-4">
                                        <div className="text-xs text-slate-400">Related Opportunity</div>
                                        <div className="text-white font-medium">{showAlertDetail.opportunity}</div>
                                    </div>
                                )}
                                <div className="flex gap-3">
                                    <button className="flex-1 bg-mp-cyan text-mp-navy font-semibold py-2 rounded-lg hover:bg-mp-cyan/90">
                                        Take Action
                                    </button>
                                    <button 
                                        onClick={() => setShowAlertDetail(null)}
                                        className="flex-1 border border-slate-600 text-slate-300 py-2 rounded-lg hover:bg-mp-navy"
                                    >
                                        Dismiss
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-mp-slate/30 border-t border-mp-cyan/10 px-6 py-4 mt-8">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-2 text-xs text-slate-500">
                            <span>AI GENERATED - REQUIRES HUMAN REVIEW</span>
                            <span>MissionPulse Executive Dashboard v1.0</span>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<ExecutiveDashboard />, document.getElementById('root'));
    </script>
</body>
</html>
