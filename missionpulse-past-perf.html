<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MissionPulse ‚Äî Past Performance Builder</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:#00050F;min-height:100vh;color:#e2e8f0}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:rgba(0,229,250,0.2);border-radius:3px}</style>
</head>
<body>
  <div id="missionpulse-sidebar"></div>
  <div class="main-content"><div id="root"></div></div>
  <script src="missionpulse-nav.js"></script>
  <script type="text/babel">
    const{useState,useEffect}=React;
    const SB_URL='https://qdrtpnpnhkxvfmvfziop.supabase.co';const SB_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkcnRwbnBuaGt4dmZtdmZ6aW9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MjMxNDMsImV4cCI6MjA1MzQ5OTE0M30.GFbjgRMgVhMMcnNaJMrLVnJI_u6yBGJOhO-LHKE8sZQ';
    var sbClient;try{sbClient=supabase.createClient(SB_URL,SB_KEY)}catch(e){sbClient=null}
    const ROLES_ALLOWED=['*'];

    const CPARS_LABELS={5:'Exceptional',4:'Very Good',3:'Satisfactory',2:'Marginal',1:'Unsatisfactory'};
    const CPARS_COLORS={5:'#00ff88',4:'#86efac',3:'#f59e0b',2:'#fb923c',1:'#ef4444'};

    const DEMO_PP=[
      {id:1,contractName:'DHA Health IT Modernization Support',contractNum:'HC1028-22-C-0042',agency:'Defense Health Agency',client:'DHA / J-6',contractType:'FFP + T&M',naics:'541512',value:'$18.4M',pop:'Sep 2022 ‚Äî Sep 2025 (3yr base + 2 OY)',
        scope:'Provided EHR system administration, cloud migration to Azure Government, DevSecOps pipeline implementation, and Tier 1-3 help desk operations for MHS GENESIS rollout across 12 MTFs.',
        relevance:{score:95,factors:['EHR/Health IT Modernization','Azure Government Cloud','DevSecOps','Help Desk Tier 1-3','SDVOSB Prime'],notes:'Near-identical scope. Same customer organization (DHA J-6). Demonstrates Azure Gov and EHR expertise.'},
        cpars:{quality:5,schedule:5,cost:4,management:5,small_biz:5,overall:5},
        narrative:'Mission Meets Tech delivered exceptional performance on this DHA contract, achieving a 99.97% system uptime across 12 Military Treatment Facilities. The team migrated 2.3TB of clinical data to Azure Government with zero data loss, implemented a fully automated CI/CD pipeline reducing deployment time from 4 hours to 22 minutes, and maintained an average help desk response time of 8 minutes against a 15-minute SLA. The program was delivered $1.2M under budget through automation efficiencies.',
        keyAccomplishments:['99.97% uptime (SLA: 99.5%)','22-min deployment cycle (from 4hr)','$1.2M under budget','Zero security incidents in 3 years','All 12 MTF migrations on-time'],
        reference:{name:'Col. James Mitchell',title:'COR, DHA J-6',phone:'(703) 555-0142',email:'james.mitchell@health.mil',lastContact:'2026-01-15'},
        selectedFor:['DHA EHR Modernization']},
      {id:2,contractName:'VA Cloud Migration & Modernization',contractNum:'VA-119-20-D-0156',agency:'Department of Veterans Affairs',client:'VA OIT',contractType:'T&M',naics:'541519',value:'$12.8M',pop:'Mar 2020 ‚Äî Mar 2024 (4yr)',
        scope:'Led cloud migration of legacy claims processing systems to AWS GovCloud and Azure Government. Implemented FedRAMP-compliant infrastructure, data lake architecture, and real-time analytics dashboards.',
        relevance:{score:80,factors:['Cloud Migration','FedRAMP Compliance','Data Analytics','Federal Healthcare'],notes:'Strong cloud migration relevance. Different agency (VA vs DHA) but similar healthcare IT domain.'},
        cpars:{quality:4,schedule:4,cost:5,management:4,small_biz:5,overall:4},
        narrative:'Mission Meets Tech successfully migrated 14 legacy applications to a FedRAMP-authorized cloud environment, achieving ATO in 72 days‚Äî45% faster than the government estimate. The data lake architecture consolidated 8 disparate data sources into a unified analytics platform, enabling real-time claims processing dashboards that reduced decision time by 35%. Cost performance was exceptional, delivering all requirements 8% under the negotiated ceiling.',
        keyAccomplishments:['ATO in 72 days (est: 130 days)','14 applications migrated','35% faster claims decisions','8% under cost ceiling','Zero downtime during migration'],
        reference:{name:'Dr. Patricia Chen',title:'Program Manager, VA OIT',phone:'(202) 555-0198',email:'patricia.chen@va.gov',lastContact:'2025-12-20'},
        selectedFor:['DHA EHR Modernization','VA Claims Processing AI']},
      {id:3,contractName:'CMS Data Analytics Platform',contractNum:'CMS-75FCMC-23-F-0089',agency:'Centers for Medicare & Medicaid Services',client:'CMS OEDA',contractType:'FFP',naics:'541511',value:'$8.2M',pop:'Jun 2023 ‚Äî Jun 2026 (3yr)',
        scope:'Designed and implemented a data analytics platform for Medicare claims fraud detection using machine learning models, automated reporting, and interactive dashboards on Azure Government.',
        relevance:{score:70,factors:['Data Analytics','Machine Learning','Azure Government','Federal Healthcare'],notes:'Strong analytics and ML relevance. Weaker on EHR-specific experience but demonstrates AI/ML in healthcare.'},
        cpars:{quality:4,schedule:5,cost:4,management:4,small_biz:4,overall:4},
        narrative:'Mission Meets Tech built a production ML platform that analyzes 2M+ Medicare claims daily for fraud indicators, achieving a 94% detection accuracy rate with a 2% false positive rate. The platform integrates with CMS enterprise data warehouse and provides automated weekly reports to OEDA leadership. Delivered Phase 1 two weeks ahead of schedule.',
        keyAccomplishments:['94% fraud detection accuracy','2M+ daily claims analyzed','Phase 1 delivered 2 weeks early','2% false positive rate','Automated reporting to leadership'],
        reference:{name:'Maria Santos',title:'Contracting Officer, CMS',phone:'(410) 555-0167',email:'maria.santos@cms.hhs.gov',lastContact:'2026-02-01'},
        selectedFor:['CMS Data Analytics Platform','VA Claims Processing AI']},
      {id:4,contractName:'TechPartner Alpha ‚Äî DoD AI/ML Platform (Sub PP)',contractNum:'W911NF-21-C-0034',agency:'Department of Defense',client:'Army Research Lab',contractType:'CPFF',naics:'541715',value:'$6.1M (sub share: $2.4M)',pop:'Jan 2021 ‚Äî Dec 2023 (3yr)',
        scope:'(Subcontractor to TechPartner Alpha) Provided AI/ML engineering support for NLP-based document analysis and classification system. Implemented responsible AI framework and model governance.',
        relevance:{score:55,factors:['AI/ML Engineering','NLP','Responsible AI','DoD'],notes:'Used as supplemental PP for AI-specific experience. Subcontractor role limits weight. Not healthcare-specific.'},
        cpars:{quality:4,schedule:4,cost:4,management:3,small_biz:null,overall:4},
        narrative:'As subcontractor to TechPartner Alpha, Mission Meets Tech provided 4 AI/ML engineers who developed NLP models for automated document classification achieving 91% accuracy across 200+ document types. The team implemented a responsible AI governance framework aligned with DoD AI Ethics Principles.',
        keyAccomplishments:['91% NLP classification accuracy','200+ document types','Responsible AI framework','DoD AI Ethics aligned'],
        reference:{name:'Dr. Alan Richards',title:'Technical Lead, TechPartner Alpha',phone:'(571) 555-0234',email:'arichards@techpartner.com',lastContact:'2025-11-10'},
        selectedFor:['VA Claims Processing AI']},
    ];

    const ConnectionDot=({c})=>(<div style={{display:'flex',alignItems:'center',gap:'6px',fontSize:'11px',color:c?'#00ff88':'#f59e0b'}}><div style={{width:'8px',height:'8px',borderRadius:'50%',background:c?'#00ff88':'#f59e0b',boxShadow:`0 0 6px ${c?'#00ff88':'#f59e0b'}`}}/>{c?'LIVE':'DEMO'}</div>);

    const CparsBar=({label,score})=>(
      <div style={{display:'flex',alignItems:'center',gap:'8px',marginBottom:'4px'}}>
        <span style={{fontSize:'10px',color:'#5a7a9a',minWidth:'90px'}}>{label}</span>
        <div style={{display:'flex',gap:'2px'}}>
          {[1,2,3,4,5].map(i=>(
            <div key={i} style={{width:'18px',height:'10px',borderRadius:'2px',background:i<=score?CPARS_COLORS[score]:'rgba(255,255,255,0.04)'}}/>
          ))}
        </div>
        <span style={{fontSize:'10px',fontWeight:600,color:CPARS_COLORS[score]}}>{score!==null?CPARS_LABELS[score]:'N/A'}</span>
      </div>
    );

    const App=()=>{
      const[connected,setConnected]=useState(false);
      const[pp]=useState(DEMO_PP);
      const[selected,setSelected]=useState(null);

      useEffect(()=>{if(!sbClient)return;(async()=>{try{const{data,error}=await sbClient.from('opportunities').select('id');if(!error&&data&&data.length>0)setConnected(true)}catch{}})()},[]);

      return(
        <div style={{padding:'24px 32px',maxWidth:'1400px'}}>
          <div style={{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'24px'}}>
            <div>
              <div style={{fontSize:'10px',fontWeight:700,color:'rgba(0,229,250,0.5)',letterSpacing:'2px',textTransform:'uppercase',marginBottom:'4px'}}>PROPOSAL AUTHORING</div>
              <h1 style={{fontSize:'26px',fontWeight:800,color:'white',letterSpacing:'-0.5px',margin:0}}>Past Performance Builder</h1>
              <div style={{fontSize:'12px',color:'#5a7a9a',marginTop:'4px'}}>CPARS narratives ‚Ä¢ Relevance scoring ‚Ä¢ Reference contacts</div>
            </div>
            <ConnectionDot c={connected}/>
          </div>

          <div style={{display:'flex',gap:'10px',flexWrap:'wrap',marginBottom:'20px'}}>
            {[
              {label:'Contracts',value:pp.length,color:'#00E5FA'},
              {label:'Avg CPARS',value:(pp.reduce((s,p)=>s+p.cpars.overall,0)/pp.length).toFixed(1),color:'#00ff88'},
              {label:'Total Value',value:'$45.5M',color:'#a78bfa'},
              {label:'Avg Relevance',value:`${Math.round(pp.reduce((s,p)=>s+p.relevance.score,0)/pp.length)}%`,color:'#00E5FA'},
              {label:'Prime',value:pp.filter(p=>!p.contractNum.includes('Sub')).length,color:'#00ff88'},
            ].map(s=>(
              <div key={s.label} style={{background:'rgba(10,22,40,0.7)',border:'1px solid rgba(0,229,250,0.08)',borderRadius:'10px',padding:'10px 16px',minWidth:'120px'}}>
                <div style={{fontSize:'9px',fontWeight:700,color:'#5a7a9a',letterSpacing:'0.5px',textTransform:'uppercase'}}>{s.label}</div>
                <div style={{fontSize:'22px',fontWeight:800,color:s.color,letterSpacing:'-0.5px'}}>{s.value}</div>
              </div>
            ))}
          </div>

          {!selected?(
            <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fill,minmax(340px,1fr))',gap:'10px'}}>
              {pp.map(p=>(
                <div key={p.id} onClick={()=>setSelected(p.id)} style={{background:'rgba(10,22,40,0.5)',border:'1px solid rgba(0,229,250,0.08)',borderRadius:'12px',padding:'16px',cursor:'pointer',transition:'all 0.15s'}} onMouseOver={e=>e.currentTarget.style.borderColor='rgba(0,229,250,0.25)'} onMouseOut={e=>e.currentTarget.style.borderColor='rgba(0,229,250,0.08)'}>
                  <div style={{fontSize:'14px',fontWeight:700,color:'white',marginBottom:'4px'}}>{p.contractName}</div>
                  <div style={{fontSize:'11px',color:'#5a7a9a',marginBottom:'8px'}}>{p.agency} ‚Ä¢ {p.value} ‚Ä¢ {p.contractType}</div>
                  <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'8px'}}>
                    <div>
                      <div style={{fontSize:'9px',fontWeight:700,color:'#5a7a9a'}}>CPARS OVERALL</div>
                      <div style={{display:'flex',gap:'2px',marginTop:'2px'}}>
                        {[1,2,3,4,5].map(i=><div key={i} style={{width:'14px',height:'8px',borderRadius:'2px',background:i<=p.cpars.overall?CPARS_COLORS[p.cpars.overall]:'rgba(255,255,255,0.04)'}}/>)}
                      </div>
                      <div style={{fontSize:'10px',fontWeight:600,color:CPARS_COLORS[p.cpars.overall],marginTop:'2px'}}>{CPARS_LABELS[p.cpars.overall]}</div>
                    </div>
                    <div style={{textAlign:'right'}}>
                      <div style={{fontSize:'9px',fontWeight:700,color:'#5a7a9a'}}>RELEVANCE</div>
                      <div style={{fontSize:'18px',fontWeight:800,color:p.relevance.score>=80?'#00ff88':p.relevance.score>=60?'#00E5FA':'#f59e0b'}}>{p.relevance.score}%</div>
                    </div>
                  </div>
                  <div style={{display:'flex',gap:'3px',flexWrap:'wrap'}}>
                    {p.relevance.factors.slice(0,3).map(f=><span key={f} style={{fontSize:'9px',padding:'1px 5px',borderRadius:'3px',background:'rgba(0,229,250,0.06)',color:'#67e8f9'}}>{f}</span>)}
                    {p.relevance.factors.length>3&&<span style={{fontSize:'9px',color:'#3e4f63'}}>+{p.relevance.factors.length-3}</span>}
                  </div>
                  <div style={{marginTop:'8px',display:'flex',gap:'4px',flexWrap:'wrap'}}>
                    {p.selectedFor.map(s=><span key={s} style={{fontSize:'9px',padding:'1px 5px',borderRadius:'3px',background:'rgba(167,139,250,0.08)',color:'#a78bfa'}}>üìã {s}</span>)}
                  </div>
                </div>
              ))}
            </div>
          ):(()=>{
            const p=pp.find(x=>x.id===selected);if(!p)return null;
            return(
              <div>
                <button onClick={()=>setSelected(null)} style={{marginBottom:'12px',padding:'5px 12px',fontSize:'11px',fontWeight:600,borderRadius:'6px',border:'none',cursor:'pointer',background:'rgba(10,22,40,0.5)',color:'#00E5FA'}}>‚Üê Back</button>
                <div style={{background:'rgba(10,22,40,0.5)',border:'1px solid rgba(0,229,250,0.08)',borderRadius:'12px',padding:'20px'}}>
                  <div style={{fontSize:'20px',fontWeight:800,color:'white',marginBottom:'4px'}}>{p.contractName}</div>
                  <div style={{display:'flex',gap:'12px',fontSize:'11px',color:'#5a7a9a',flexWrap:'wrap',marginBottom:'16px'}}>
                    <span>{p.contractNum}</span><span>{p.agency}</span><span>{p.contractType}</span><span>{p.value}</span><span>NAICS: {p.naics}</span>
                  </div>
                  <div style={{fontSize:'11px',color:'#94a3b8',marginBottom:'8px'}}><strong style={{color:'#5a7a9a'}}>POP:</strong> {p.pop}</div>

                  {/* Scope */}
                  <div style={{background:'rgba(0,0,0,0.2)',borderRadius:'8px',padding:'12px 14px',marginBottom:'16px'}}>
                    <div style={{fontSize:'9px',fontWeight:700,color:'#5a7a9a',letterSpacing:'0.5px',marginBottom:'4px'}}>SCOPE OF WORK</div>
                    <div style={{fontSize:'12px',color:'#94a3b8',lineHeight:'1.6'}}>{p.scope}</div>
                  </div>

                  <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px',marginBottom:'16px'}}>
                    {/* CPARS */}
                    <div style={{background:'rgba(0,0,0,0.2)',borderRadius:'8px',padding:'12px 14px'}}>
                      <div style={{fontSize:'9px',fontWeight:700,color:'#00ff88',letterSpacing:'0.5px',marginBottom:'8px'}}>CPARS RATINGS</div>
                      <CparsBar label="Quality" score={p.cpars.quality}/>
                      <CparsBar label="Schedule" score={p.cpars.schedule}/>
                      <CparsBar label="Cost Control" score={p.cpars.cost}/>
                      <CparsBar label="Management" score={p.cpars.management}/>
                      {p.cpars.small_biz!==null&&<CparsBar label="Small Business" score={p.cpars.small_biz}/>}
                      <div style={{borderTop:'1px solid rgba(0,229,250,0.08)',paddingTop:'6px',marginTop:'6px'}}><CparsBar label="OVERALL" score={p.cpars.overall}/></div>
                    </div>
                    {/* Relevance */}
                    <div style={{background:'rgba(0,0,0,0.2)',borderRadius:'8px',padding:'12px 14px'}}>
                      <div style={{fontSize:'9px',fontWeight:700,color:'#00E5FA',letterSpacing:'0.5px',marginBottom:'8px'}}>RELEVANCE ANALYSIS</div>
                      <div style={{fontSize:'28px',fontWeight:800,color:p.relevance.score>=80?'#00ff88':'#00E5FA',marginBottom:'6px'}}>{p.relevance.score}%</div>
                      <div style={{display:'flex',gap:'3px',flexWrap:'wrap',marginBottom:'8px'}}>
                        {p.relevance.factors.map(f=><span key={f} style={{fontSize:'9px',padding:'2px 6px',borderRadius:'3px',background:'rgba(0,229,250,0.06)',color:'#67e8f9'}}>{f}</span>)}
                      </div>
                      <div style={{fontSize:'11px',color:'#94a3b8',lineHeight:'1.4'}}>{p.relevance.notes}</div>
                    </div>
                  </div>

                  {/* Narrative */}
                  <div style={{background:'rgba(0,229,250,0.03)',borderRadius:'8px',padding:'14px 16px',borderLeft:'3px solid #00E5FA',marginBottom:'16px'}}>
                    <div style={{fontSize:'9px',fontWeight:700,color:'#00E5FA',letterSpacing:'0.5px',marginBottom:'6px'}}>PERFORMANCE NARRATIVE</div>
                    <div style={{fontSize:'12px',color:'#e2e8f0',lineHeight:'1.7'}}>{p.narrative}</div>
                  </div>

                  {/* Key Accomplishments */}
                  <div style={{marginBottom:'16px'}}>
                    <div style={{fontSize:'9px',fontWeight:700,color:'#00ff88',letterSpacing:'0.5px',marginBottom:'6px'}}>KEY ACCOMPLISHMENTS</div>
                    <div style={{display:'flex',gap:'6px',flexWrap:'wrap'}}>
                      {p.keyAccomplishments.map(a=><span key={a} style={{fontSize:'10px',padding:'3px 8px',borderRadius:'4px',background:'rgba(0,255,136,0.06)',color:'#86efac'}}>‚úì {a}</span>)}
                    </div>
                  </div>

                  {/* Reference */}
                  <div style={{background:'rgba(245,158,11,0.04)',border:'1px solid rgba(245,158,11,0.15)',borderRadius:'8px',padding:'12px 14px'}}>
                    <div style={{fontSize:'9px',fontWeight:700,color:'#f59e0b',letterSpacing:'0.5px',marginBottom:'6px'}}>REFERENCE CONTACT</div>
                    <div style={{fontSize:'13px',fontWeight:600,color:'white'}}>{p.reference.name}</div>
                    <div style={{fontSize:'11px',color:'#94a3b8'}}>{p.reference.title}</div>
                    <div style={{display:'flex',gap:'16px',marginTop:'4px',fontSize:'11px',color:'#5a7a9a'}}>
                      <span>üìû {p.reference.phone}</span><span>‚úâÔ∏è {p.reference.email}</span><span>Last contact: {p.reference.lastContact}</span>
                    </div>
                  </div>

                  <div style={{marginTop:'12px',display:'flex',gap:'4px'}}>
                    {p.selectedFor.map(s=><span key={s} style={{fontSize:'10px',padding:'3px 8px',borderRadius:'4px',background:'rgba(167,139,250,0.08)',color:'#a78bfa'}}>üìã Selected for: {s}</span>)}
                  </div>
                </div>
              </div>
            );
          })()}

          <div style={{textAlign:'center',padding:'20px 0',marginTop:'28px',borderTop:'1px solid rgba(0,229,250,0.06)',fontSize:'10px',color:'rgba(148,163,184,0.4)',lineHeight:'1.8'}}>‚ö†Ô∏è AI GENERATED ‚Äî REQUIRES HUMAN REVIEW<br/>MissionPulse v12.0 ‚Äî Mission Meets Tech | CMMC 2.0 L2 Compliant</div>
        </div>
      );
    };
    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
