<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MissionPulse - Compliance Checklist</title><script src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"><style>* { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Space Grotesk', sans-serif; background: #00050F; min-height: 100vh; } .font-mono { font-family: 'JetBrains Mono', monospace; } @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } } .animate-fade-up { animation: fadeInUp 0.5s ease-out forwards; } .glass-card { background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(15, 23, 42, 0.7) 100%); backdrop-filter: blur(10px); border: 1px solid rgba(0, 229, 250, 0.2); }</style></head><body><div id="root"></div><script src="supabase-client.js"></script><script type="text/babel">
const { useState, useEffect } = React;
const ROLES_ALLOWED = ['CEO','COO','CAP','PM','CON','QA','Admin'];
const DEMO = [
  { id: 'CHK-001', section: 'Section L Instructions', items: [
    { text: 'Volume I: Technical Approach (50 page limit)', status: 'done', note: 'At 48 pages' },
    { text: 'Volume II: Management Approach (30 page limit)', status: 'done', note: 'At 29 pages' },
    { text: 'Volume III: Past Performance (20 page limit)', status: 'in_progress', note: 'At 22 pages - OVER LIMIT' },
    { text: 'Volume IV: Cost/Price (no page limit)', status: 'done', note: 'BOE complete' },
    { text: 'Font: Times New Roman 12pt', status: 'done', note: 'Verified all volumes' },
    { text: 'Margins: 1 inch all sides', status: 'done', note: '' },
    { text: 'Single spacing, single column', status: 'done', note: '' }
  ]},
  { id: 'CHK-002', section: 'Section M Evaluation Criteria', items: [
    { text: 'Technical Approach addresses all subfactors', status: 'done', note: 'Mapped 12/12 subfactors' },
    { text: 'Management Approach covers transition plan', status: 'in_progress', note: 'Draft transition timeline attached' },
    { text: 'Past Performance: 3 relevant references', status: 'done', note: 'DHA, CMS, VA contracts' },
    { text: 'Price Realism demonstrated via BOE', status: 'done', note: 'Labor rates benchmarked' }
  ]},
  { id: 'CHK-003', section: 'Certifications & Representations', items: [
    { text: 'SAM.gov registration current', status: 'done', note: 'Verified 2/1/2025' },
    { text: 'SDVOSB certification valid', status: 'done', note: 'Expires 12/2026' },
    { text: 'FAR 52.204-26 (Covered Telecom)', status: 'done', note: 'No covered equipment' },
    { text: 'CMMC Level 2 self-assessment', status: 'in_progress', note: 'Score: 98/110, 12 POA&M items' },
    { text: 'Organizational Conflict of Interest', status: 'not_started', note: 'Need OCI determination letter' }
  ]},
  { id: 'CHK-004', section: 'Submission Requirements', items: [
    { text: 'Electronic submission via SAM.gov', status: 'not_started', note: 'Due: March 15, 2025' },
    { text: 'PDF format, bookmarked', status: 'not_started', note: '' },
    { text: 'File naming convention per RFP', status: 'not_started', note: '' },
    { text: 'Authorized signature on SF-33', status: 'not_started', note: 'Mary Womack (CEO)' }
  ]}
];
const statusConfig = { done: { icon: '‚úÖ', color: '#10B981' }, in_progress: { icon: 'üîÑ', color: '#F59E0B' }, not_started: { icon: '‚¨ú', color: '#6B7280' } };

const App = () => {
  const [checklists, setChecklists] = useState(DEMO);
  const [expandedId, setExpandedId] = useState('CHK-001');
  const [connected, setConnected] = useState(false);
  useEffect(() => {
    const role = localStorage.getItem('missionpulse_role');
    if (role && !ROLES_ALLOWED.includes(role)) { window.location.href = 'index.html'; return; }
    const load = async () => { try { if (typeof sbClient !== 'undefined') { const { data } = await sbClient.from('compliance_checklists').select('*'); if (data?.length) { setChecklists(data); setConnected(true); } } } catch(e){} }; load();
  }, []);
  const totalItems = checklists.reduce((s,c) => s + c.items.length, 0);
  const doneItems = checklists.reduce((s,c) => s + c.items.filter(i => i.status === 'done').length, 0);
  const pct = Math.round(doneItems / totalItems * 100);
  const issues = checklists.reduce((s,c) => s + c.items.filter(i => i.status === 'in_progress' && i.note.includes('OVER')).length, 0);
  return React.createElement('div', { className: 'min-h-screen p-6', style: { background: '#00050F' } },
    React.createElement('div', { className: 'flex items-center justify-between mb-6' },
      React.createElement('div', null, React.createElement('h1', { className: 'text-2xl font-bold text-white' }, '‚úÖ Compliance Checklist'), React.createElement('p', { className: 'text-gray-400 text-sm mt-1' }, 'Section L/M compliance ‚Ä¢ Submission readiness ‚Ä¢ Cert verification')),
      React.createElement('div', { className: 'flex items-center gap-3' },
        React.createElement('div', { className: 'flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs', style: { background: connected ? 'rgba(16,185,129,0.15)' : 'rgba(245,158,11,0.15)', color: connected ? '#10B981' : '#F59E0B', border: `1px solid ${connected ? 'rgba(16,185,129,0.3)' : 'rgba(245,158,11,0.3)'}` } }, React.createElement('span', { className: `w-2 h-2 rounded-full ${connected ? 'bg-green-500' : 'bg-yellow-500'}` }), connected ? 'Connected' : 'Demo Mode'),
        React.createElement('a', { href: 'index.html', className: 'px-3 py-1.5 rounded-lg text-xs text-gray-400 hover:text-white', style: { border: '1px solid rgba(255,255,255,0.1)' } }, '‚Üê Dashboard'))
    ),
    React.createElement('div', { className: 'grid grid-cols-4 gap-4 mb-6' },
      [{ label: 'Completion', value: `${pct}%`, color: pct >= 80 ? '#10B981' : '#F59E0B' }, { label: 'Complete', value: doneItems, color: '#10B981' }, { label: 'Remaining', value: totalItems - doneItems, color: '#F59E0B' }, { label: 'Issues', value: issues, color: issues > 0 ? '#EF4444' : '#10B981' }].map((s,i) =>
        React.createElement('div', { key: i, className: 'glass-card rounded-lg p-4 text-center animate-fade-up', style: { animationDelay: `${i*0.1}s` } },
          React.createElement('div', { className: 'font-mono text-2xl font-bold', style: { color: s.color } }, s.value), React.createElement('div', { className: 'text-xs text-gray-400 mt-1' }, s.label))
      )
    ),
    React.createElement('div', { className: 'glass-card rounded-lg p-3 mb-6' },
      React.createElement('div', { className: 'h-4 bg-gray-800 rounded-full overflow-hidden' },
        React.createElement('div', { className: 'h-full rounded-full transition-all', style: { width: `${pct}%`, background: 'linear-gradient(90deg, #00E5FA, #10B981)' } })
      ),
      React.createElement('div', { className: 'text-xs text-gray-400 mt-1 text-center' }, `${doneItems} of ${totalItems} items complete`)
    ),
    React.createElement('div', { className: 'space-y-3 mb-8' },
      checklists.map((c,ci) => {
        const sectionDone = c.items.filter(i => i.status === 'done').length;
        const sectionPct = Math.round(sectionDone / c.items.length * 100);
        return React.createElement('div', { key: c.id, className: 'glass-card rounded-lg overflow-hidden animate-fade-up', style: { animationDelay: `${ci*0.1}s` } },
          React.createElement('div', { className: 'p-4 cursor-pointer hover:bg-white/5', onClick: () => setExpandedId(expandedId === c.id ? null : c.id) },
            React.createElement('div', { className: 'flex items-center justify-between' },
              React.createElement('h3', { className: 'text-white font-semibold' }, c.section),
              React.createElement('div', { className: 'flex items-center gap-3' },
                React.createElement('span', { className: 'font-mono text-sm', style: { color: sectionPct === 100 ? '#10B981' : '#F59E0B' } }, `${sectionDone}/${c.items.length}`),
                React.createElement('span', { className: 'text-gray-500' }, expandedId === c.id ? '‚ñæ' : '‚ñ∏'))
            )
          ),
          expandedId === c.id && React.createElement('div', { className: 'border-t border-gray-800 p-4 space-y-2' },
            c.items.map((item, ii) => {
              const sc = statusConfig[item.status];
              return React.createElement('div', { key: ii, className: 'flex items-center justify-between bg-gray-900/50 rounded-lg px-3 py-2' },
                React.createElement('div', { className: 'flex items-center gap-2' },
                  React.createElement('span', null, sc.icon),
                  React.createElement('span', { className: `text-sm ${item.status === 'done' ? 'text-gray-400' : 'text-white'}` }, item.text)
                ),
                item.note && React.createElement('span', { className: 'text-xs', style: { color: item.note.includes('OVER') ? '#EF4444' : '#6B7280' } }, item.note)
              );
            })
          )
        );
      })
    ),
    React.createElement('div', { className: 'text-center py-4 border-t border-gray-800' }, React.createElement('p', { className: 'text-xs text-gray-600' }, '‚ö†Ô∏è AI GENERATED - REQUIRES HUMAN REVIEW ‚Ä¢ MissionPulse by Mission Meets Tech ‚Ä¢ NIST 800-171 Compliant'))
  );
};
ReactDOM.render(React.createElement(App), document.getElementById('root'));
</script></body></html>
