<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Index | MissionPulse v2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        body { background: linear-gradient(135deg, #00050F 0%, #000A1A 100%); min-height: 100vh; }
        .glass-card { background: rgba(0, 229, 250, 0.03); border: 1px solid rgba(0, 229, 250, 0.2); border-radius: 0.75rem; transition: all 0.2s; }
        .glass-card:hover { border-color: rgba(0, 229, 250, 0.5); transform: translateY(-2px); box-shadow: 0 8px 30px rgba(0, 229, 250, 0.1); }
        .btn-primary { background: linear-gradient(135deg, #00E5FA 0%, #00B8D4 100%); color: #00050F; font-weight: 600; }
        .category-core { border-left: 4px solid #00E5FA; }
        .category-capture { border-left: 4px solid #10B981; }
        .category-strategy { border-left: 4px solid #F59E0B; }
        .category-compliance { border-left: 4px solid #06B6D4; }
        .category-pricing { border-left: 4px solid #8B5CF6; }
        .category-writing { border-left: 4px solid #EC4899; }
        .category-review { border-left: 4px solid #EF4444; }
        .category-management { border-left: 4px solid #6366F1; }
        .category-orals { border-left: 4px solid #F97316; }
        .category-knowledge { border-left: 4px solid #14B8A6; }
        .category-tools { border-left: 4px solid #78716C; }
        .category-badge { font-size: 0.625rem; padding: 0.125rem 0.5rem; border-radius: 9999px; text-transform: uppercase; letter-spacing: 0.05em; }
    </style>
</head>
<body class="text-white font-sans">
    <!-- Header -->
    <header class="border-b border-cyan-500/20 bg-black/60 backdrop-blur sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <img src="MMT_icon_transparent.png" alt="MMT" style="width: 48px; height: 48px;" onerror="this.style.display='none'">
                    <div>
                        <h1 class="text-3xl font-bold text-cyan-400">MissionPulse v2</h1>
                        <p class="text-white/50 text-sm">Federal Proposal Management Platform ‚Ä¢ 26 Modules</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div id="connectionStatus" class="flex items-center gap-2 text-sm">
                        <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                        <span class="text-white/50">Checking...</span>
                    </div>
                    <a href="index.html" class="btn-primary px-4 py-2 rounded-lg text-sm">
                        Go to Dashboard ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
        <!-- Stats Bar -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="glass-card p-4 text-center">
                <div class="text-3xl font-bold text-cyan-400">26</div>
                <div class="text-xs text-white/50">Total Modules</div>
            </div>
            <div class="glass-card p-4 text-center">
                <div class="text-3xl font-bold text-green-400">11</div>
                <div class="text-xs text-white/50">Categories</div>
            </div>
            <div class="glass-card p-4 text-center">
                <div class="text-3xl font-bold text-purple-400">33</div>
                <div class="text-xs text-white/50">Database Tables</div>
            </div>
            <div class="glass-card p-4 text-center">
                <div class="text-3xl font-bold text-yellow-400">v2</div>
                <div class="text-xs text-white/50">Development Branch</div>
            </div>
        </div>

        <!-- Category Filter -->
        <div class="mb-6 flex flex-wrap gap-2">
            <button onclick="filterCategory('all')" class="filter-btn active px-3 py-1.5 rounded-full text-sm border border-cyan-500/30 bg-cyan-500/20 text-cyan-300" data-cat="all">All Modules</button>
            <button onclick="filterCategory('core')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-cyan-500/30 text-white/60 hover:bg-cyan-500/10" data-cat="core">‚ö° Core</button>
            <button onclick="filterCategory('capture')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-green-500/30 text-white/60 hover:bg-green-500/10" data-cat="capture">üéØ Capture</button>
            <button onclick="filterCategory('strategy')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-yellow-500/30 text-white/60 hover:bg-yellow-500/10" data-cat="strategy">‚ôüÔ∏è Strategy</button>
            <button onclick="filterCategory('compliance')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-cyan-500/30 text-white/60 hover:bg-cyan-500/10" data-cat="compliance">‚úÖ Compliance</button>
            <button onclick="filterCategory('pricing')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-purple-500/30 text-white/60 hover:bg-purple-500/10" data-cat="pricing">üí∞ Pricing</button>
            <button onclick="filterCategory('writing')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-pink-500/30 text-white/60 hover:bg-pink-500/10" data-cat="writing">‚úçÔ∏è Writing</button>
            <button onclick="filterCategory('review')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-red-500/30 text-white/60 hover:bg-red-500/10" data-cat="review">üëÅÔ∏è Review</button>
            <button onclick="filterCategory('management')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-indigo-500/30 text-white/60 hover:bg-indigo-500/10" data-cat="management">üìã Management</button>
            <button onclick="filterCategory('orals')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-orange-500/30 text-white/60 hover:bg-orange-500/10" data-cat="orals">üé§ Orals</button>
            <button onclick="filterCategory('knowledge')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-teal-500/30 text-white/60 hover:bg-teal-500/10" data-cat="knowledge">üìö Knowledge</button>
            <button onclick="filterCategory('tools')" class="filter-btn px-3 py-1.5 rounded-full text-sm border border-gray-500/30 text-white/60 hover:bg-gray-500/10" data-cat="tools">üîß Tools</button>
        </div>

        <!-- Module Grid -->
        <div id="moduleGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
            <!-- Populated by JS -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-cyan-500/20 mt-12">
        <div class="max-w-7xl mx-auto px-6 py-6">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="text-center md:text-left">
                    <div class="text-sm text-white/40">MissionPulse v2 Development Branch</div>
                    <div class="text-xs text-white/30">Staging: v2-development--missionpulse-io.netlify.app</div>
                </div>
                <div class="text-center">
                    <p class="text-white/30 text-xs">AI GENERATED CONTENT - REQUIRES HUMAN REVIEW</p>
                    <p class="text-white/20 text-xs mt-1">¬© 2025 Mission Meets Tech. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Module data
        const modules = [
            // Core
            { id: 'dashboard', name: 'Dashboard', icon: 'üéØ', href: 'index.html', category: 'core', description: 'Main dashboard with opportunity pipeline' },
            { id: 'executive', name: 'Executive View', icon: 'üìä', href: 'missionpulse-m25-executive-live.html', category: 'core', description: 'Portfolio overview and key metrics' },
            { id: 'agents', name: 'AI Agent Hub', icon: 'ü§ñ', href: 'missionpulse-agent-hub.html', category: 'core', description: '8 specialized AI agents for proposal tasks' },
            
            // Capture
            { id: 'contracts', name: 'Contracts Library', icon: 'üìã', href: 'missionpulse-m5-contracts-live.html', category: 'capture', description: 'Contract vehicle and IDIQ tracking' },
            { id: 'pastperf', name: 'Past Performance', icon: 'üìà', href: 'missionpulse-m17-pastperformance-live.html', category: 'capture', description: 'Past performance database with references' },
            { id: 'teaming', name: 'Teaming Partners', icon: 'ü§ù', href: 'missionpulse-m18-teaming-live.html', category: 'capture', description: 'Teaming partner management and NDAs' },
            { id: 'amendments', name: 'RFP Amendments', icon: 'üìù', href: 'missionpulse-m20-amendments-live.html', category: 'capture', description: 'Track RFP amendments and impacts' },
            { id: 'questions', name: 'Questions to Gov', icon: '‚ùì', href: 'missionpulse-m23-questions-live.html', category: 'capture', description: 'Q&A log with government responses' },
            
            // Strategy
            { id: 'blackhat', name: 'Black Hat Analysis', icon: 'üé≠', href: 'missionpulse-m7-blackhat-live.html', category: 'strategy', description: 'Competitor analysis and SWOT' },
            { id: 'winthemes', name: 'Win Themes', icon: 'üèÜ', href: 'missionpulse-m12-winthemes-live.html', category: 'strategy', description: 'Win themes and discriminators' },
            { id: 'risks', name: 'Risk Register', icon: '‚ö†Ô∏è', href: 'missionpulse-m14-risks-live.html', category: 'strategy', description: 'Risk tracking with mitigations' },
            
            // Compliance
            { id: 'compliance', name: 'Compliance Matrix', icon: '‚úÖ', href: 'missionpulse-m6-compliance-live.html', category: 'compliance', description: 'RFP requirements traceability' },
            { id: 'checklist', name: 'L/M Checklist', icon: '‚òëÔ∏è', href: 'missionpulse-m16-compliance-checklist-live.html', category: 'compliance', description: 'Section L/M compliance tracker' },
            
            // Pricing
            { id: 'pricing', name: 'Pricing & BOE', icon: 'üí∞', href: 'missionpulse-m8-pricing-live.html', category: 'pricing', description: 'BOE builder and pricing scenarios' },
            
            // Writing
            { id: 'writer', name: 'Proposal Writer', icon: '‚úçÔ∏è', href: 'missionpulse-m10-writer-live.html', category: 'writing', description: 'AI-assisted section drafting' },
            { id: 'outline', name: 'Proposal Outline', icon: 'üóÇÔ∏è', href: 'missionpulse-m21-outline-live.html', category: 'writing', description: 'Volume structure and templates' },
            { id: 'graphics', name: 'Graphics & Exhibits', icon: 'üé®', href: 'missionpulse-m22-graphics-live.html', category: 'writing', description: 'Figures, tables, and exhibit tracking' },
            
            // Review
            { id: 'hitl', name: 'HITL Queue', icon: 'üëÅÔ∏è', href: 'missionpulse-m9-hitl-live.html', category: 'review', description: 'Human-in-the-loop review queue' },
            { id: 'colorteam', name: 'Color Reviews', icon: 'üî¥', href: 'missionpulse-m19-colorteam-live.html', category: 'review', description: 'Pink, Red, Gold, White team reviews' },
            
            // Management
            { id: 'teams', name: 'Team Assignments', icon: 'üë•', href: 'missionpulse-m15-teams-live.html', category: 'management', description: 'Team workload and section assignments' },
            { id: 'calendar', name: 'Proposal Calendar', icon: 'üìÖ', href: 'missionpulse-m24-calendar-live.html', category: 'management', description: 'Milestones and critical path tracking' },
            
            // Orals
            { id: 'orals', name: 'Orals Prep', icon: 'üé§', href: 'missionpulse-m11-orals-live.html', category: 'orals', description: 'Orals deck and Q&A preparation' },
            
            // Knowledge
            { id: 'lessons', name: 'Lessons Learned', icon: 'üìö', href: 'missionpulse-m13-lessons-live.html', category: 'knowledge', description: 'Capture lessons for future pursuits' },
            
            // Tools
            { id: 'reports', name: 'Reports & Export', icon: 'üìë', href: 'missionpulse-m26-reports-live.html', category: 'tools', description: 'Generate CSV, JSON, HTML reports' }
        ];

        const categoryColors = {
            core: { bg: 'rgba(0, 229, 250, 0.1)', border: '#00E5FA', text: '#67E8F9' },
            capture: { bg: 'rgba(16, 185, 129, 0.1)', border: '#10B981', text: '#6EE7B7' },
            strategy: { bg: 'rgba(245, 158, 11, 0.1)', border: '#F59E0B', text: '#FCD34D' },
            compliance: { bg: 'rgba(6, 182, 212, 0.1)', border: '#06B6D4', text: '#67E8F9' },
            pricing: { bg: 'rgba(139, 92, 246, 0.1)', border: '#8B5CF6', text: '#C4B5FD' },
            writing: { bg: 'rgba(236, 72, 153, 0.1)', border: '#EC4899', text: '#F9A8D4' },
            review: { bg: 'rgba(239, 68, 68, 0.1)', border: '#EF4444', text: '#FCA5A5' },
            management: { bg: 'rgba(99, 102, 241, 0.1)', border: '#6366F1', text: '#A5B4FC' },
            orals: { bg: 'rgba(249, 115, 22, 0.1)', border: '#F97316', text: '#FDBA74' },
            knowledge: { bg: 'rgba(20, 184, 166, 0.1)', border: '#14B8A6', text: '#5EEAD4' },
            tools: { bg: 'rgba(120, 113, 108, 0.1)', border: '#78716C', text: '#D6D3D1' }
        };

        let currentFilter = 'all';

        function renderModules() {
            const grid = document.getElementById('moduleGrid');
            const filtered = currentFilter === 'all' ? modules : modules.filter(m => m.category === currentFilter);
            
            grid.innerHTML = filtered.map(m => {
                const colors = categoryColors[m.category];
                return `
                    <a href="${m.href}" class="glass-card category-${m.category} p-5 block">
                        <div class="flex items-start gap-3 mb-3">
                            <span class="text-2xl">${m.icon}</span>
                            <div class="flex-1 min-w-0">
                                <h3 class="font-semibold text-white mb-0.5">${m.name}</h3>
                                <span class="category-badge" style="background: ${colors.bg}; color: ${colors.text};">${m.category}</span>
                            </div>
                        </div>
                        <p class="text-sm text-white/50 leading-relaxed">${m.description}</p>
                    </a>
                `;
            }).join('');
        }

        function filterCategory(cat) {
            currentFilter = cat;
            
            // Update button states
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.cat === cat) {
                    btn.classList.add('active');
                    btn.style.background = 'rgba(0, 229, 250, 0.2)';
                    btn.style.color = '#67E8F9';
                } else {
                    btn.classList.remove('active');
                    btn.style.background = 'transparent';
                    btn.style.color = 'rgba(255,255,255,0.6)';
                }
            });
            
            renderModules();
        }

        // Check connection
        async function checkConnection() {
            const status = document.getElementById('connectionStatus');
            try {
                const SUPABASE_URL = 'https://qdrtpnpnhkxvfmvfziop.supabase.co';
                const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkcnRwbnBuaGt4dmZtdmZ6aW9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc0MTMwNjIsImV4cCI6MjA1Mjk4OTA2Mn0.gwBTnfAtsxSFDz96fDPL7HAIYdA5s_9hiv_l0ECWvYc';
                const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                const { error } = await supabase.from('opportunities').select('id').limit(1);
                
                if (!error) {
                    status.innerHTML = '<div class="w-2 h-2 rounded-full bg-green-500"></div><span class="text-green-400">Live Database</span>';
                } else {
                    status.innerHTML = '<div class="w-2 h-2 rounded-full bg-yellow-500"></div><span class="text-yellow-400">Demo Mode</span>';
                }
            } catch (e) {
                status.innerHTML = '<div class="w-2 h-2 rounded-full bg-yellow-500"></div><span class="text-yellow-400">Demo Mode</span>';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderModules();
            checkConnection();
        });
    </script>
</body>
</html>
