<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MissionPulse ‚Äî Module Index</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:#00050F;min-height:100vh;color:#e2e8f0}
    ::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:rgba(0,229,250,0.2);border-radius:3px}
  </style>
</head>
<body>
  <div id="missionpulse-sidebar"></div>
  <div class="main-content"><div id="root"></div></div>
  <script src="missionpulse-nav.js"></script>

  <script type="text/babel">
    const { useState, useMemo } = React;

    // ‚îÄ‚îÄ MASTER MODULE REGISTRY ‚îÄ‚îÄ
    const MODULES = [
      // Command Center
      { id:'M-00', name:'Dashboard / Hub',        file:'index.html',                               version:'V2', status:'LIVE', category:'Command Center',       roles:['*'],                tables:['opportunities'],                                    sprint:'S-06', isNew:true },
      { id:'M-01', name:'Pipeline Tracker',        file:'missionpulse-m1-enhanced.html',            version:'V1', status:'LIVE', category:'Command Center',       roles:['*'],                tables:['opportunities','team_assignments'],                 sprint:'P1' },
      { id:'M-02', name:'War Room',                file:'missionpulse-m2-warroom-enhanced.html',    version:'V1', status:'LIVE', category:'Command Center',       roles:['*'],                tables:['opportunities','team_assignments'],                 sprint:'P1' },
      { id:'M-03', name:'Swimlane Board',          file:'missionpulse-m3-swimlane-board.html',      version:'V1', status:'LIVE', category:'Command Center',       roles:['*'],                tables:['opportunities','proposal_sections'],                sprint:'P1' },

      // Capture & Intel
      { id:'M-04', name:'RFP Shredder',            file:'index__13_.html',                          version:'V1', status:'LIVE', category:'Capture & Intel',      roles:['*'],                tables:['compliance_items','proposal_sections'],             sprint:'P1' },
      { id:'M-05', name:'Win Themes',              file:'missionpulse-winthemes-v2.html',           version:'V2', status:'LIVE', category:'Capture & Intel',      roles:['*'],                tables:['win_themes','opportunities'],                       sprint:'S-03', isNew:true },
      { id:'M-06', name:'Black Hat Review',        file:'missionpulse-m7-blackhat-enhanced.html',   version:'V1', status:'LIVE', category:'Capture & Intel',      roles:['CEO','COO','CAP'],  tables:['competitors','opportunities'],                      sprint:'P1', rbac:true },

      // Compliance & Risk
      { id:'M-07', name:'Iron Dome',               file:'missionpulse-irondome-v2.html',            version:'V2', status:'LIVE', category:'Compliance & Risk',    roles:['*'],                tables:['compliance_items','contract_clauses'],              sprint:'S-04', isNew:true },
      { id:'M-08', name:'Compliance Matrix',       file:'missionpulse-compliance-v2.html',          version:'V2', status:'LIVE', category:'Compliance & Risk',    roles:['*'],                tables:['compliance_items'],                                  sprint:'S-04', isNew:true },
      { id:'M-09', name:'Contract Scanner',        file:'missionpulse-m5-contracts-enhanced.html',  version:'V1', status:'LIVE', category:'Compliance & Risk',    roles:['*'],                tables:['contract_clauses'],                                  sprint:'P1' },

      // Pricing & Financials
      { id:'M-10', name:'Pricing Engine',          file:'missionpulse-m8-pricing.html',             version:'V1', status:'LIVE', category:'Pricing & Financials', roles:['CEO','COO','FIN'],  tables:['pricing_items','opportunities'],                     sprint:'P1', rbac:true, cui:true },

      // Review & Quality
      { id:'M-11', name:'HITL Reviews',            file:'missionpulse-m9-hitl-enhanced.html',       version:'V1', status:'LIVE', category:'Review & Quality',     roles:['*'],                tables:['ai_approvals','proposal_sections'],                  sprint:'P1' },
      { id:'M-12', name:'Orals Studio',            file:'missionpulse-orals-v2.html',               version:'V2', status:'LIVE', category:'Review & Quality',     roles:['*'],                tables:['orals_decks','orals_qa'],                            sprint:'S-03', isNew:true },

      // Teaming & Partners
      { id:'M-13', name:'Teaming / Frenemy',       file:'missionpulse-teaming-v2.html',             version:'V2', status:'LIVE', category:'Teaming & Partners',   roles:['*'],                tables:['teaming_partners','partner_access','competitors'],   sprint:'S-05', isNew:true },

      // AI & Automation
      { id:'M-14', name:'Agent Hub',               file:'missionpulse-agenthub-v2.html',            version:'V2', status:'LIVE', category:'AI & Automation',      roles:['*'],                tables:['ai_approvals','audit_logs'],                         sprint:'S-05', isNew:true },
      { id:'M-15', name:'Lessons Playbook',        file:'missionpulse-m15-lessons-playbook.html',   version:'V1', status:'LIVE', category:'AI & Automation',      roles:['*'],                tables:['playbook_items'],                                    sprint:'P1' },

      // Delivery & Post-Award
      { id:'M-16', name:'Launch & ROI',            file:'missionpulse-m13-launch-roi.html',         version:'V1', status:'LIVE', category:'Delivery & Post-Award',roles:['*'],                tables:['launch_checklists','opportunities'],                 sprint:'P1' },
      { id:'M-17', name:'Post-Award',              file:'missionpulse-m14-post-award.html',         version:'V1', status:'LIVE', category:'Delivery & Post-Award',roles:['*'],                tables:['post_award_actions'],                                sprint:'P1' },

      // Admin
      { id:'M-18', name:'RBAC Admin',              file:'missionpulse-task16-rbac.html',            version:'V1', status:'LIVE', category:'Admin',                roles:['CEO','COO','Admin'],tables:['team_assignments'],                                  sprint:'P1', rbac:true },
      { id:'M-19', name:'User Signup',             file:'signup.html',                              version:'V2', status:'LIVE', category:'Admin',                roles:['CEO','COO','Admin'],tables:[],                                                    sprint:'S-01', rbac:true },
      { id:'M-20', name:'Admin Requests',          file:'admin-requests.html',                      version:'V2', status:'LIVE', category:'Admin',                roles:['CEO','COO','Admin'],tables:[],                                                    sprint:'S-01', rbac:true },
      { id:'M-21', name:'Investor Demo',           file:'missionpulse-v12-demo.html',               version:'V2', status:'LIVE', category:'Admin',                roles:['CEO'],              tables:['opportunities'],                                     sprint:'S-06', rbac:true },
    ];

    const CATEGORIES = ['All','Command Center','Capture & Intel','Compliance & Risk','Pricing & Financials','Review & Quality','Teaming & Partners','AI & Automation','Delivery & Post-Award','Admin'];

    const App = () => {
      const [filter, setFilter] = useState('All');
      const [search, setSearch] = useState('');
      const [versionFilter, setVersionFilter] = useState('All');

      const filtered = useMemo(() => {
        return MODULES.filter(m => {
          if (filter !== 'All' && m.category !== filter) return false;
          if (versionFilter !== 'All' && m.version !== versionFilter) return false;
          if (search && !m.name.toLowerCase().includes(search.toLowerCase()) && !m.file.toLowerCase().includes(search.toLowerCase()) && !m.tables.some(t => t.includes(search.toLowerCase()))) return false;
          return true;
        });
      }, [filter, search, versionFilter]);

      const counts = useMemo(() => ({
        total: MODULES.length,
        v2: MODULES.filter(m => m.version === 'V2').length,
        v1: MODULES.filter(m => m.version === 'V1').length,
        rbac: MODULES.filter(m => m.rbac).length,
        cui: MODULES.filter(m => m.cui).length,
        tables: [...new Set(MODULES.flatMap(m => m.tables))].length,
      }), []);

      const statusColor = { LIVE:'#00ff88', DEV:'#f59e0b', PLANNED:'#5a7a9a' };
      const versionColor = { V2:'#00E5FA', V1:'#94a3b8' };

      return (
        <div style={{ padding:'24px 32px', maxWidth:'1400px' }}>
          {/* Header */}
          <div style={{ marginBottom:'24px' }}>
            <div style={{ fontSize:'10px', fontWeight:700, color:'rgba(0,229,250,0.5)', letterSpacing:'2px', textTransform:'uppercase', marginBottom:'4px' }}>SYSTEM REGISTRY</div>
            <h1 style={{ fontSize:'26px', fontWeight:800, color:'white', letterSpacing:'-0.5px', margin:'0 0 6px' }}>Module Index</h1>
            <div style={{ fontSize:'12px', color:'#5a7a9a' }}>Master directory of all MissionPulse modules ‚Äî files, versions, RBAC, Supabase tables</div>
          </div>

          {/* Stats Strip */}
          <div style={{ display:'flex', gap:'10px', flexWrap:'wrap', marginBottom:'20px' }}>
            {[
              { label:'Total Modules', value:counts.total, color:'#00E5FA' },
              { label:'V2 Upgraded', value:counts.v2, color:'#00ff88' },
              { label:'V1 Legacy', value:counts.v1, color:'#94a3b8' },
              { label:'RBAC Protected', value:counts.rbac, color:'#ef4444' },
              { label:'CUI Marked', value:counts.cui, color:'#f59e0b' },
              { label:'DB Tables', value:counts.tables, color:'#a78bfa' },
            ].map(s => (
              <div key={s.label} style={{ background:'rgba(10,22,40,0.7)', border:'1px solid rgba(0,229,250,0.08)', borderRadius:'10px', padding:'10px 16px', minWidth:'120px' }}>
                <div style={{ fontSize:'9px', fontWeight:700, color:'#5a7a9a', letterSpacing:'0.5px', textTransform:'uppercase' }}>{s.label}</div>
                <div style={{ fontSize:'22px', fontWeight:800, color:s.color, letterSpacing:'-0.5px' }}>{s.value}</div>
              </div>
            ))}
          </div>

          {/* Filters */}
          <div style={{ display:'flex', gap:'8px', flexWrap:'wrap', marginBottom:'16px', alignItems:'center' }}>
            <input
              type="text" placeholder="Search modules, files, tables‚Ä¶" value={search}
              onChange={e => setSearch(e.target.value)}
              style={{ background:'rgba(10,22,40,0.7)', border:'1px solid rgba(0,229,250,0.15)', borderRadius:'8px', padding:'7px 14px', fontSize:'12px', color:'#e2e8f0', outline:'none', width:'240px' }}
            />
            <div style={{ display:'flex', gap:'4px' }}>
              {['All','V1','V2'].map(v => (
                <button key={v} onClick={() => setVersionFilter(v)}
                  style={{ padding:'5px 12px', fontSize:'11px', fontWeight:600, borderRadius:'6px', border:'none', cursor:'pointer',
                    background: versionFilter === v ? 'rgba(0,229,250,0.15)' : 'rgba(10,22,40,0.5)',
                    color: versionFilter === v ? '#00E5FA' : '#5a7a9a'
                  }}>{v}</button>
              ))}
            </div>
            <div style={{ display:'flex', gap:'4px', flexWrap:'wrap' }}>
              {CATEGORIES.map(c => (
                <button key={c} onClick={() => setFilter(c)}
                  style={{ padding:'5px 10px', fontSize:'10px', fontWeight:600, borderRadius:'6px', border:'none', cursor:'pointer', whiteSpace:'nowrap',
                    background: filter === c ? 'rgba(0,229,250,0.15)' : 'rgba(10,22,40,0.5)',
                    color: filter === c ? '#00E5FA' : '#5a7a9a'
                  }}>{c}</button>
              ))}
            </div>
          </div>

          {/* Table */}
          <div style={{ background:'rgba(10,22,40,0.5)', border:'1px solid rgba(0,229,250,0.08)', borderRadius:'12px', overflow:'hidden' }}>
            <table style={{ width:'100%', borderCollapse:'collapse', fontSize:'12px' }}>
              <thead>
                <tr style={{ borderBottom:'1px solid rgba(0,229,250,0.1)' }}>
                  {['ID','Module','File','Ver','Status','Category','RBAC Roles','Supabase Tables','Sprint'].map(h => (
                    <th key={h} style={{ padding:'10px 12px', textAlign:'left', color:'#5a7a9a', fontWeight:700, fontSize:'10px', letterSpacing:'0.5px', textTransform:'uppercase', whiteSpace:'nowrap' }}>{h}</th>
                  ))}
                </tr>
              </thead>
              <tbody>
                {filtered.map(m => (
                  <tr key={m.id} style={{ borderBottom:'1px solid rgba(0,229,250,0.04)' }}
                    onMouseOver={e => e.currentTarget.style.background='rgba(0,229,250,0.03)'}
                    onMouseOut={e => e.currentTarget.style.background='transparent'}>
                    <td style={{ padding:'9px 12px', fontFamily:'monospace', color:'#5a7a9a', fontSize:'11px', fontWeight:600 }}>{m.id}</td>
                    <td style={{ padding:'9px 12px' }}>
                      <a href={m.file} style={{ color:'white', fontWeight:600, textDecoration:'none' }}
                        onMouseOver={e => e.target.style.color='#00E5FA'} onMouseOut={e => e.target.style.color='white'}>
                        {m.name}
                      </a>
                      {m.isNew && <span style={{ marginLeft:'6px', fontSize:'9px', fontWeight:700, color:'#00ff88', background:'rgba(0,255,136,0.1)', padding:'1px 5px', borderRadius:'3px' }}>NEW</span>}
                      {m.cui && <span style={{ marginLeft:'4px', fontSize:'9px', fontWeight:700, color:'#f59e0b', background:'rgba(245,158,11,0.12)', padding:'1px 5px', borderRadius:'3px' }}>üõ° CUI</span>}
                    </td>
                    <td style={{ padding:'9px 12px', fontFamily:'monospace', fontSize:'10px', color:'#64748b', maxWidth:'220px', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap' }}>{m.file}</td>
                    <td style={{ padding:'9px 12px' }}>
                      <span style={{ fontSize:'10px', fontWeight:700, padding:'2px 7px', borderRadius:'4px',
                        background: m.version === 'V2' ? 'rgba(0,229,250,0.1)' : 'rgba(148,163,184,0.08)',
                        color: versionColor[m.version] }}>{m.version}</span>
                    </td>
                    <td style={{ padding:'9px 12px' }}>
                      <span style={{ fontSize:'10px', fontWeight:700, padding:'2px 7px', borderRadius:'4px',
                        background:`${statusColor[m.status]}12`, color:statusColor[m.status] }}>
                        {m.status === 'LIVE' && '‚óè '}{m.status}
                      </span>
                    </td>
                    <td style={{ padding:'9px 12px', fontSize:'11px', color:'#94a3b8', whiteSpace:'nowrap' }}>{m.category}</td>
                    <td style={{ padding:'9px 12px' }}>
                      <div style={{ display:'flex', gap:'3px', flexWrap:'wrap' }}>
                        {m.roles.map(r => (
                          <span key={r} style={{ fontSize:'9px', fontWeight:600, padding:'1px 5px', borderRadius:'3px',
                            background: r === '*' ? 'rgba(0,255,136,0.08)' : 'rgba(239,68,68,0.08)',
                            color: r === '*' ? '#00ff88' : '#f87171'
                          }}>{r === '*' ? 'ALL' : r}</span>
                        ))}
                      </div>
                    </td>
                    <td style={{ padding:'9px 12px' }}>
                      <div style={{ display:'flex', gap:'3px', flexWrap:'wrap' }}>
                        {m.tables.length === 0 ? <span style={{ fontSize:'9px', color:'#3e4f63' }}>‚Äî</span> :
                          m.tables.map(t => (
                            <span key={t} style={{ fontSize:'9px', fontWeight:500, padding:'1px 5px', borderRadius:'3px', background:'rgba(167,139,250,0.08)', color:'#a78bfa', fontFamily:'monospace' }}>{t}</span>
                          ))
                        }
                      </div>
                    </td>
                    <td style={{ padding:'9px 12px', fontFamily:'monospace', fontSize:'10px', color:'#5a7a9a', fontWeight:600 }}>{m.sprint}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>

          <div style={{ marginTop:'10px', fontSize:'11px', color:'#3e4f63', textAlign:'right' }}>{filtered.length} of {MODULES.length} modules shown</div>

          {/* Footer */}
          <div style={{ textAlign:'center', padding:'20px 0', marginTop:'20px', borderTop:'1px solid rgba(0,229,250,0.06)', fontSize:'10px', color:'rgba(148,163,184,0.4)', lineHeight:'1.8' }}>
            ‚ö†Ô∏è AI GENERATED ‚Äî REQUIRES HUMAN REVIEW<br/>
            MissionPulse v12.0 ‚Äî Mission Meets Tech | CMMC 2.0 L2 Compliant
          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
