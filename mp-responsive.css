/**
 * FILE: mp-responsive.css
 * PURPOSE: s7-5 — Mobile responsive pass
 * Include via <link rel="stylesheet" href="mp-responsive.css"> in <head>
 *
 * Targets: Login, Dashboard, Pipeline, Compliance, all modules
 * Rule: No horizontal scroll on iPhone SE (375px) through iPad (768px)
 *
 * AI GENERATED -- REQUIRES HUMAN REVIEW
 */

/* ═══════════════════════════════════════════════════════
   GLOBAL MOBILE FIXES
   ═══════════════════════════════════════════════════════ */

/* Prevent horizontal overflow */
html, body {
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
}

/* Make all max-w containers respect small screens */
@media (max-width: 768px) {

  /* Container padding */
  .max-w-7xl, .max-w-5xl, .max-w-4xl, .max-w-3xl {
    padding-left: 12px !important;
    padding-right: 12px !important;
  }

  /* Stack grid layouts */
  .grid-cols-2, .md\:grid-cols-2,
  .grid-cols-3, .md\:grid-cols-3,
  .grid-cols-4, .md\:grid-cols-4 {
    grid-template-columns: 1fr !important;
  }

  /* Stack flex rows */
  .flex.items-center.justify-between {
    flex-wrap: wrap;
    gap: 8px;
  }

  /* Filter rows wrap */
  .flex.gap-3.flex-wrap {
    flex-direction: column;
  }
  .flex.gap-3.flex-wrap > select,
  .flex.gap-3.flex-wrap > input {
    width: 100% !important;
  }

  /* Tables scroll horizontally in a container */
  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    white-space: nowrap;
  }
  table thead, table tbody, table tr {
    display: table;
    width: 100%;
    table-layout: fixed;
  }
  table th, table td {
    padding: 8px 6px !important;
    font-size: 12px !important;
  }

  /* Header typography */
  h1 {
    font-size: 1.25rem !important;
  }
  h2 {
    font-size: 1.1rem !important;
  }

  /* Buttons: full width on mobile */
  .bg-cyan-500, [class*="bg-cyan-"] {
    font-size: 12px !important;
    padding: 8px 12px !important;
  }

  /* Modal responsiveness */
  .modal-overlay > div {
    width: 95vw !important;
    max-width: 95vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    margin: 8px !important;
  }

  /* Export bar */
  #mp-export-bar {
    bottom: 8px !important;
    right: 8px !important;
    left: 8px !important;
  }
  #mp-export-bar > div {
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Trial banner */
  #mp-trial-banner {
    flex-direction: column !important;
    gap: 8px;
  }
  #mp-trial-banner > div:last-child {
    width: 100% !important;
  }
}

/* ═══════════════════════════════════════════════════════
   LOGIN PAGE
   ═══════════════════════════════════════════════════════ */
@media (max-width: 480px) {
  /* Login card */
  .max-w-md {
    margin: 16px !important;
    padding: 20px !important;
  }
  .max-w-md input {
    font-size: 16px !important; /* Prevents iOS zoom on focus */
  }
}

/* ═══════════════════════════════════════════════════════
   DASHBOARD — Sidebar + Stats
   ═══════════════════════════════════════════════════════ */
@media (max-width: 768px) {
  /* Stats row: 2-column on mobile */
  .grid.grid-cols-4,
  .grid.md\:grid-cols-4 {
    grid-template-columns: 1fr 1fr !important;
  }

  /* Module grid: single column */
  .grid.grid-cols-3,
  .grid.md\:grid-cols-3 {
    grid-template-columns: 1fr !important;
  }

  /* Sidebar: collapse to horizontal scroll on mobile */
  #sidebar, .sidebar, [class*="sidebar"] {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    top: auto !important;
    height: auto !important;
    width: 100% !important;
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    padding: 8px !important;
    z-index: 40;
    background: #0A1628 !important;
    border-top: 1px solid rgba(0,229,250,0.1);
    border-right: none !important;
  }
  #sidebar a, .sidebar a, [class*="sidebar"] a {
    white-space: nowrap;
    font-size: 11px !important;
    padding: 6px 10px !important;
  }

  /* Main content: add bottom padding for fixed sidebar */
  .max-w-7xl {
    padding-bottom: 72px !important;
  }
}

/* ═══════════════════════════════════════════════════════
   PIPELINE KANBAN
   ═══════════════════════════════════════════════════════ */
@media (max-width: 768px) {
  /* Kanban columns: stack vertically */
  .flex.gap-4 > .flex-1,
  [class*="kanban-col"],
  .flex.overflow-x-auto > div {
    min-width: 100% !important;
    width: 100% !important;
  }
}

/* ═══════════════════════════════════════════════════════
   BILLING PAGE — Plan cards
   ═══════════════════════════════════════════════════════ */
@media (max-width: 768px) {
  .plan-card {
    padding: 20px !important;
  }
  .grid.grid-cols-3 {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }
}

/* ═══════════════════════════════════════════════════════
   PRINT STYLES (for export/demo)
   ═══════════════════════════════════════════════════════ */
@media print {
  body { background: white !important; color: black !important; }
  #mp-export-bar, #mp-trial-banner, .sidebar, #sidebar { display: none !important; }
  .glow-border { box-shadow: none !important; border-color: #ccc !important; }
}
