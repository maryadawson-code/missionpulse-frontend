<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MissionPulse - Integration Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mp-navy': '#00050F',
                        'mp-cyan': '#00E5FA',
                        'mp-slate': '#0A1628'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .status-pulse { animation: pulse 2s ease-in-out infinite; }
    </style>
</head>
<body class="bg-mp-navy min-h-screen text-white">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useMemo } = React;

        const integrationsData = [
            {
                id: 'INT-001',
                name: 'SAM.gov',
                category: 'Opportunity Source',
                description: 'Federal contract opportunity feeds and entity validation',
                status: 'connected',
                lastSync: '2024-02-25T14:30:00',
                nextSync: '2024-02-25T15:30:00',
                syncFrequency: 'Hourly',
                dataPoints: ['Opportunities', 'Entity Status', 'Exclusions'],
                metrics: { synced: 1247, errors: 0, pending: 12 },
                icon: 'üèõÔ∏è',
                config: { apiKey: '****-****-****-7823', entityId: 'DUNS-123456789' }
            },
            {
                id: 'INT-002',
                name: 'SharePoint',
                category: 'Document Management',
                description: 'Proposal document storage and collaboration',
                status: 'connected',
                lastSync: '2024-02-25T14:45:00',
                nextSync: '2024-02-25T15:00:00',
                syncFrequency: '15 minutes',
                dataPoints: ['Documents', 'Folders', 'Permissions'],
                metrics: { synced: 3456, errors: 2, pending: 8 },
                icon: 'üìÅ',
                config: { tenant: 'rockitdata.sharepoint.com', site: 'Proposals' }
            },
            {
                id: 'INT-003',
                name: 'HubSpot CRM',
                category: 'Customer Management',
                description: 'Customer relationship and opportunity tracking',
                status: 'connected',
                lastSync: '2024-02-25T14:00:00',
                nextSync: '2024-02-25T15:00:00',
                syncFrequency: 'Hourly',
                dataPoints: ['Contacts', 'Deals', 'Companies', 'Activities'],
                metrics: { synced: 892, errors: 0, pending: 5 },
                icon: 'ü§ù',
                config: { portalId: '24681357', pipelineId: 'federal-proposals' }
            },
            {
                id: 'INT-004',
                name: 'Microsoft 365',
                category: 'Productivity',
                description: 'Calendar, email, and team collaboration sync',
                status: 'connected',
                lastSync: '2024-02-25T14:50:00',
                nextSync: '2024-02-25T15:00:00',
                syncFrequency: '10 minutes',
                dataPoints: ['Calendar', 'Email', 'Teams', 'Tasks'],
                metrics: { synced: 5621, errors: 1, pending: 23 },
                icon: 'üìß',
                config: { tenant: 'rockitdata.onmicrosoft.com' }
            },
            {
                id: 'INT-005',
                name: 'GovWin IQ',
                category: 'Market Intelligence',
                description: 'Federal market intelligence and opportunity tracking',
                status: 'warning',
                lastSync: '2024-02-25T12:00:00',
                nextSync: '2024-02-25T16:00:00',
                syncFrequency: '4 hours',
                dataPoints: ['Opportunities', 'Incumbents', 'Contract Awards'],
                metrics: { synced: 456, errors: 3, pending: 0 },
                icon: 'üéØ',
                config: { apiKey: '****-****-****-9182' },
                warning: 'API rate limit approaching (85%)'
            },
            {
                id: 'INT-006',
                name: 'USASpending',
                category: 'Financial Data',
                description: 'Federal spending and award data',
                status: 'connected',
                lastSync: '2024-02-25T08:00:00',
                nextSync: '2024-02-26T08:00:00',
                syncFrequency: 'Daily',
                dataPoints: ['Awards', 'Spending', 'Recipients'],
                metrics: { synced: 12847, errors: 0, pending: 0 },
                icon: 'üíµ',
                config: { filters: 'DHA, VA, CMS, IHS' }
            },
            {
                id: 'INT-007',
                name: 'FPDS',
                category: 'Contract Data',
                description: 'Federal procurement data system integration',
                status: 'connected',
                lastSync: '2024-02-25T06:00:00',
                nextSync: '2024-02-26T06:00:00',
                syncFrequency: 'Daily',
                dataPoints: ['Contracts', 'Modifications', 'IDVs'],
                metrics: { synced: 8934, errors: 0, pending: 0 },
                icon: 'üìã',
                config: { agencyFilters: 'DHA, VA, CMS' }
            },
            {
                id: 'INT-008',
                name: 'Slack',
                category: 'Communication',
                description: 'Team notifications and alerts',
                status: 'disconnected',
                lastSync: null,
                nextSync: null,
                syncFrequency: 'Real-time',
                dataPoints: ['Notifications', 'Channels', 'Alerts'],
                metrics: { synced: 0, errors: 0, pending: 0 },
                icon: 'üí¨',
                config: null
            }
        ];

        const categories = ['All', 'Opportunity Source', 'Document Management', 'Customer Management', 'Productivity', 'Market Intelligence', 'Financial Data', 'Contract Data', 'Communication'];

        function getStatusConfig(status) {
            switch (status) {
                case 'connected': return { color: 'text-green-400', bg: 'bg-green-500', label: 'Connected' };
                case 'warning': return { color: 'text-yellow-400', bg: 'bg-yellow-500', label: 'Warning' };
                case 'error': return { color: 'text-red-400', bg: 'bg-red-500', label: 'Error' };
                case 'disconnected': return { color: 'text-gray-400', bg: 'bg-gray-500', label: 'Disconnected' };
                default: return { color: 'text-gray-400', bg: 'bg-gray-500', label: 'Unknown' };
            }
        }

        function formatTimestamp(timestamp) {
            if (!timestamp) return 'Never';
            const date = new Date(timestamp);
            return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function IntegrationCard({ integration, onSelect, isSelected }) {
            const statusConfig = getStatusConfig(integration.status);
            
            return (
                <div 
                    className={`bg-mp-slate rounded-xl p-4 cursor-pointer transition-all hover:bg-mp-slate/80 ${isSelected ? 'ring-2 ring-mp-cyan' : ''}`}
                    onClick={() => onSelect(integration)}
                >
                    <div className="flex items-start gap-4">
                        <div className="w-12 h-12 bg-mp-navy rounded-xl flex items-center justify-center text-2xl">
                            {integration.icon}
                        </div>
                        <div className="flex-1">
                            <div className="flex items-center justify-between mb-1">
                                <h3 className="font-semibold text-white">{integration.name}</h3>
                                <div className="flex items-center gap-2">
                                    <span className={`w-2 h-2 rounded-full ${statusConfig.bg} ${integration.status === 'connected' ? 'status-pulse' : ''}`}></span>
                                    <span className={`text-xs ${statusConfig.color}`}>{statusConfig.label}</span>
                                </div>
                            </div>
                            <p className="text-sm text-gray-400 mb-2">{integration.category}</p>
                            <p className="text-xs text-gray-500">{integration.description}</p>
                        </div>
                    </div>

                    {integration.status === 'connected' && (
                        <div className="mt-4 grid grid-cols-3 gap-2 text-center">
                            <div className="bg-mp-navy/50 rounded-lg p-2">
                                <p className="text-lg font-bold text-green-400">{integration.metrics.synced.toLocaleString()}</p>
                                <p className="text-xs text-gray-400">Synced</p>
                            </div>
                            <div className="bg-mp-navy/50 rounded-lg p-2">
                                <p className={`text-lg font-bold ${integration.metrics.errors > 0 ? 'text-red-400' : 'text-gray-400'}`}>
                                    {integration.metrics.errors}
                                </p>
                                <p className="text-xs text-gray-400">Errors</p>
                            </div>
                            <div className="bg-mp-navy/50 rounded-lg p-2">
                                <p className="text-lg font-bold text-yellow-400">{integration.metrics.pending}</p>
                                <p className="text-xs text-gray-400">Pending</p>
                            </div>
                        </div>
                    )}

                    {integration.warning && (
                        <div className="mt-3 p-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg">
                            <p className="text-xs text-yellow-400">‚ö†Ô∏è {integration.warning}</p>
                        </div>
                    )}
                </div>
            );
        }

        function IntegrationDetail({ integration }) {
            const statusConfig = getStatusConfig(integration.status);
            const [isEditing, setIsEditing] = useState(false);

            return (
                <div>
                    {/* Header */}
                    <div className="bg-mp-slate rounded-xl p-6 mb-6">
                        <div className="flex items-start gap-4 mb-4">
                            <div className="w-16 h-16 bg-mp-navy rounded-xl flex items-center justify-center text-3xl">
                                {integration.icon}
                            </div>
                            <div className="flex-1">
                                <h2 className="text-2xl font-bold text-white">{integration.name}</h2>
                                <p className="text-gray-400">{integration.category}</p>
                                <p className="text-sm text-gray-500 mt-1">{integration.description}</p>
                            </div>
                            <div className="flex items-center gap-2">
                                <span className={`w-3 h-3 rounded-full ${statusConfig.bg} ${integration.status === 'connected' ? 'status-pulse' : ''}`}></span>
                                <span className={`font-medium ${statusConfig.color}`}>{statusConfig.label}</span>
                            </div>
                        </div>

                        <div className="flex gap-2">
                            {integration.status === 'connected' ? (
                                <>
                                    <button className="px-4 py-2 bg-mp-cyan text-mp-navy rounded-lg font-medium hover:bg-mp-cyan/90 transition-colors">
                                        Sync Now
                                    </button>
                                    <button className="px-4 py-2 border border-gray-700 rounded-lg text-gray-400 hover:bg-mp-navy transition-colors">
                                        View Logs
                                    </button>
                                    <button className="px-4 py-2 border border-red-500/50 rounded-lg text-red-400 hover:bg-red-500/10 transition-colors">
                                        Disconnect
                                    </button>
                                </>
                            ) : (
                                <button className="px-4 py-2 bg-mp-cyan text-mp-navy rounded-lg font-medium hover:bg-mp-cyan/90 transition-colors">
                                    Connect
                                </button>
                            )}
                        </div>
                    </div>

                    {/* Sync Status */}
                    {integration.status !== 'disconnected' && (
                        <div className="bg-mp-slate rounded-xl p-4 mb-6">
                            <h3 className="font-semibold text-white mb-4">Sync Status</h3>
                            <div className="grid grid-cols-3 gap-4">
                                <div className="bg-mp-navy/50 rounded-lg p-3">
                                    <p className="text-sm text-gray-400">Last Sync</p>
                                    <p className="text-lg font-semibold text-white">{formatTimestamp(integration.lastSync)}</p>
                                </div>
                                <div className="bg-mp-navy/50 rounded-lg p-3">
                                    <p className="text-sm text-gray-400">Next Sync</p>
                                    <p className="text-lg font-semibold text-mp-cyan">{formatTimestamp(integration.nextSync)}</p>
                                </div>
                                <div className="bg-mp-navy/50 rounded-lg p-3">
                                    <p className="text-sm text-gray-400">Frequency</p>
                                    <p className="text-lg font-semibold text-white">{integration.syncFrequency}</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Data Points */}
                    <div className="bg-mp-slate rounded-xl p-4 mb-6">
                        <h3 className="font-semibold text-white mb-4">Data Points</h3>
                        <div className="flex flex-wrap gap-2">
                            {integration.dataPoints.map((point, idx) => (
                                <span key={idx} className="px-3 py-1.5 bg-mp-navy rounded-lg text-sm text-gray-300 flex items-center gap-2">
                                    <span className="w-2 h-2 rounded-full bg-mp-cyan"></span>
                                    {point}
                                </span>
                            ))}
                        </div>
                    </div>

                    {/* Configuration */}
                    {integration.config && (
                        <div className="bg-mp-slate rounded-xl p-4">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="font-semibold text-white">Configuration</h3>
                                <button 
                                    onClick={() => setIsEditing(!isEditing)}
                                    className="text-sm text-mp-cyan hover:underline"
                                >
                                    {isEditing ? 'Cancel' : 'Edit'}
                                </button>
                            </div>
                            <div className="space-y-3">
                                {Object.entries(integration.config).map(([key, value]) => (
                                    <div key={key} className="flex items-center justify-between bg-mp-navy/50 rounded-lg p-3">
                                        <span className="text-sm text-gray-400 capitalize">{key.replace(/([A-Z])/g, ' $1').trim()}</span>
                                        {isEditing ? (
                                            <input 
                                                type="text"
                                                defaultValue={value}
                                                className="bg-mp-navy border border-gray-700 rounded px-2 py-1 text-sm text-white"
                                            />
                                        ) : (
                                            <span className="text-sm text-white font-mono">{value}</span>
                                        )}
                                    </div>
                                ))}
                            </div>
                            {isEditing && (
                                <button className="mt-4 w-full px-4 py-2 bg-mp-cyan text-mp-navy rounded-lg font-medium hover:bg-mp-cyan/90 transition-colors">
                                    Save Configuration
                                </button>
                            )}
                        </div>
                    )}
                </div>
            );
        }

        function App() {
            const [selectedIntegration, setSelectedIntegration] = useState(integrationsData[0]);
            const [filterCategory, setFilterCategory] = useState('All');
            const [filterStatus, setFilterStatus] = useState('all');

            const filteredIntegrations = useMemo(() => {
                return integrationsData.filter(i => {
                    const matchesCategory = filterCategory === 'All' || i.category === filterCategory;
                    const matchesStatus = filterStatus === 'all' || i.status === filterStatus;
                    return matchesCategory && matchesStatus;
                });
            }, [filterCategory, filterStatus]);

            const metrics = useMemo(() => {
                const total = integrationsData.length;
                const connected = integrationsData.filter(i => i.status === 'connected').length;
                const warnings = integrationsData.filter(i => i.status === 'warning').length;
                const totalSynced = integrationsData.reduce((sum, i) => sum + (i.metrics?.synced || 0), 0);
                return { total, connected, warnings, totalSynced };
            }, []);

            return (
                <div className="min-h-screen bg-mp-navy">
                    {/* Header */}
                    <header className="bg-mp-slate border-b border-gray-800 px-6 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center gap-4">
                                <div className="w-10 h-10 bg-gradient-to-br from-mp-cyan to-blue-600 rounded-lg flex items-center justify-center">
                                    <span className="text-xl">üîå</span>
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold text-white">Integration Hub</h1>
                                    <p className="text-sm text-gray-400">Third-party system connections</p>
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <button className="bg-mp-cyan text-mp-navy px-4 py-2 rounded-lg font-medium hover:bg-mp-cyan/90 transition-colors">
                                    + Add Integration
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Metrics */}
                    <div className="px-6 py-4 border-b border-gray-800">
                        <div className="grid grid-cols-4 gap-4">
                            <div className="bg-mp-slate rounded-xl p-4 text-center">
                                <p className="text-3xl font-bold text-white">{metrics.total}</p>
                                <p className="text-sm text-gray-400">Total Integrations</p>
                            </div>
                            <div className="bg-mp-slate rounded-xl p-4 text-center">
                                <p className="text-3xl font-bold text-green-400">{metrics.connected}</p>
                                <p className="text-sm text-gray-400">Connected</p>
                            </div>
                            <div className="bg-mp-slate rounded-xl p-4 text-center">
                                <p className="text-3xl font-bold text-yellow-400">{metrics.warnings}</p>
                                <p className="text-sm text-gray-400">Warnings</p>
                            </div>
                            <div className="bg-mp-slate rounded-xl p-4 text-center">
                                <p className="text-3xl font-bold text-mp-cyan">{metrics.totalSynced.toLocaleString()}</p>
                                <p className="text-sm text-gray-400">Records Synced</p>
                            </div>
                        </div>
                    </div>

                    {/* Filters */}
                    <div className="px-6 py-3 border-b border-gray-800 flex items-center gap-4">
                        <select 
                            value={filterCategory}
                            onChange={(e) => setFilterCategory(e.target.value)}
                            className="bg-mp-navy border border-gray-700 rounded-lg px-3 py-2 text-sm text-white"
                        >
                            {categories.map(cat => (
                                <option key={cat} value={cat}>{cat}</option>
                            ))}
                        </select>
                        <div className="flex gap-2">
                            {['all', 'connected', 'warning', 'disconnected'].map(status => (
                                <button
                                    key={status}
                                    onClick={() => setFilterStatus(status)}
                                    className={`px-3 py-1.5 rounded-lg text-sm transition-colors ${
                                        filterStatus === status 
                                            ? 'bg-mp-cyan text-mp-navy font-medium' 
                                            : 'bg-mp-slate text-gray-400 hover:text-white'
                                    }`}
                                >
                                    {status.charAt(0).toUpperCase() + status.slice(1)}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="flex">
                        {/* Integration List */}
                        <div className="w-1/2 border-r border-gray-800 p-4 space-y-4 max-h-[calc(100vh-280px)] overflow-y-auto">
                            {filteredIntegrations.map(integration => (
                                <IntegrationCard
                                    key={integration.id}
                                    integration={integration}
                                    isSelected={selectedIntegration?.id === integration.id}
                                    onSelect={setSelectedIntegration}
                                />
                            ))}
                        </div>

                        {/* Integration Detail */}
                        <div className="w-1/2 p-6 max-h-[calc(100vh-280px)] overflow-y-auto">
                            {selectedIntegration && <IntegrationDetail integration={selectedIntegration} />}
                        </div>
                    </div>

                    {/* Footer */}
                    <footer className="fixed bottom-0 left-0 right-0 bg-mp-slate border-t border-gray-800 px-6 py-3">
                        <div className="flex items-center justify-between text-sm text-gray-400">
                            <span>MissionPulse v12 ‚Ä¢ Integration Hub Module</span>
                            <span className="text-yellow-500">‚ö†Ô∏è AI GENERATED - REQUIRES HUMAN REVIEW</span>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
