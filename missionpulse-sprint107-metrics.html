<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proposal Metrics Dashboard - MissionPulse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mp-navy': '#00050F',
                        'mp-cyan': '#00E5FA',
                        'mp-slate': '#0A1628',
                        'mp-dark': '#020817'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        .glow-cyan { box-shadow: 0 0 20px rgba(0, 229, 250, 0.3); }
        .metric-card:hover { border-color: rgba(0, 229, 250, 0.4); }
    </style>
</head>
<body class="bg-mp-navy text-white min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useMemo } = React;

        // Demo metrics data
        const metricsData = {
            // Overall stats
            overall: {
                totalSubmissions: 48,
                wins: 20,
                losses: 23,
                pending: 5,
                winRate: 46.5,
                avgCycleTime: 42,
                totalValue: 2340000000,
                wonValue: 847000000
            },
            // Win rate by customer
            byCustomer: [
                { customer: 'DHA', submissions: 12, wins: 7, winRate: 58 },
                { customer: 'VA', submissions: 10, wins: 4, winRate: 40 },
                { customer: 'CMS', submissions: 8, wins: 3, winRate: 38 },
                { customer: 'IHS', submissions: 6, wins: 3, winRate: 50 },
                { customer: 'NIH', submissions: 5, wins: 2, winRate: 40 },
                { customer: 'Other', submissions: 7, wins: 1, winRate: 14 }
            ],
            // Win rate by contract type
            byContractType: [
                { type: 'Full & Open', submissions: 20, wins: 6, winRate: 30 },
                { type: 'SDVOSB', submissions: 15, wins: 8, winRate: 53 },
                { type: '8(a)', submissions: 8, wins: 4, winRate: 50 },
                { type: 'Small Business', submissions: 5, wins: 2, winRate: 40 }
            ],
            // Trend data (quarterly)
            quarterlyTrend: [
                { quarter: 'Q1 2024', submissions: 10, wins: 4, winRate: 40 },
                { quarter: 'Q2 2024', submissions: 12, wins: 5, winRate: 42 },
                { quarter: 'Q3 2024', submissions: 14, wins: 6, winRate: 43 },
                { quarter: 'Q4 2024', submissions: 12, wins: 5, winRate: 42 }
            ],
            // Cycle time by phase
            cycleTime: [
                { phase: 'Capture', avgDays: 45, target: 40 },
                { phase: 'Proposal Dev', avgDays: 32, target: 30 },
                { phase: 'Reviews', avgDays: 8, target: 7 },
                { phase: 'Final/Submit', avgDays: 3, target: 2 }
            ],
            // Resource utilization
            resourceUtil: [
                { month: 'Sep', utilization: 78 },
                { month: 'Oct', utilization: 85 },
                { month: 'Nov', utilization: 92 },
                { month: 'Dec', utilization: 88 },
                { month: 'Jan', utilization: 95 }
            ],
            // Top performers
            topPerformers: [
                { name: 'Sarah Chen', role: 'Capture Manager', winRate: 62, proposals: 8 },
                { name: 'Michael Brown', role: 'Technical Lead', winRate: 58, proposals: 12 },
                { name: 'Jennifer Taylor', role: 'Solution Architect', winRate: 55, proposals: 9 },
                { name: 'Robert Kim', role: 'Proposal Manager', winRate: 52, proposals: 15 }
            ],
            // Loss reasons
            lossReasons: [
                { reason: 'Price', count: 8, percent: 35 },
                { reason: 'Technical Approach', count: 6, percent: 26 },
                { reason: 'Past Performance', count: 4, percent: 17 },
                { reason: 'Incumbent Advantage', count: 3, percent: 13 },
                { reason: 'Other', count: 2, percent: 9 }
            ]
        };

        function ProposalMetricsDashboard() {
            const [selectedPeriod, setSelectedPeriod] = useState('year');
            const [selectedMetric, setSelectedMetric] = useState('winRate');

            const formatCurrency = (value) => {
                if (value >= 1000000000) return `$${(value / 1000000000).toFixed(1)}B`;
                if (value >= 1000000) return `$${(value / 1000000).toFixed(0)}M`;
                return `$${value.toLocaleString()}`;
            };

            return (
                <div className="min-h-screen bg-mp-navy">
                    {/* Header */}
                    <header className="bg-mp-slate/50 border-b border-mp-cyan/20 px-6 py-4">
                        <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
                            <div>
                                <h1 className="text-2xl font-bold text-white">Proposal Metrics Dashboard</h1>
                                <p className="text-sm text-slate-400 mt-1">Performance Analytics â€¢ Win Rate Analysis</p>
                            </div>
                            <div className="flex items-center gap-3">
                                <select 
                                    value={selectedPeriod}
                                    onChange={(e) => setSelectedPeriod(e.target.value)}
                                    className="bg-mp-slate border border-mp-cyan/30 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-mp-cyan"
                                >
                                    <option value="quarter">This Quarter</option>
                                    <option value="year">This Year</option>
                                    <option value="all">All Time</option>
                                </select>
                                <button className="bg-mp-slate border border-mp-cyan/30 px-4 py-2 rounded-lg text-sm hover:bg-mp-cyan/10">
                                    ðŸ“¤ Export Report
                                </button>
                            </div>
                        </div>
                    </header>

                    <main className="p-6">
                        {/* KPI Cards */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 metric-card">
                                <div className="text-xs text-slate-400 uppercase tracking-wide">Win Rate</div>
                                <div className="text-3xl font-bold text-mp-cyan mt-1">{metricsData.overall.winRate}%</div>
                                <div className="text-xs text-green-400 mt-1">â†‘ 3.2% vs last year</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 metric-card">
                                <div className="text-xs text-slate-400 uppercase tracking-wide">Submissions</div>
                                <div className="text-3xl font-bold text-white mt-1">{metricsData.overall.totalSubmissions}</div>
                                <div className="text-xs text-slate-500 mt-1">{metricsData.overall.wins}W / {metricsData.overall.losses}L / {metricsData.overall.pending}P</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 metric-card">
                                <div className="text-xs text-slate-400 uppercase tracking-wide">Won Value</div>
                                <div className="text-3xl font-bold text-green-400 mt-1">{formatCurrency(metricsData.overall.wonValue)}</div>
                                <div className="text-xs text-slate-500 mt-1">of {formatCurrency(metricsData.overall.totalValue)} pursued</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-4 metric-card">
                                <div className="text-xs text-slate-400 uppercase tracking-wide">Avg Cycle Time</div>
                                <div className="text-3xl font-bold text-white mt-1">{metricsData.overall.avgCycleTime}</div>
                                <div className="text-xs text-yellow-400 mt-1">days avg</div>
                            </div>
                        </div>

                        {/* Main Charts Grid */}
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                            {/* Win Rate by Customer */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Win Rate by Customer</h3>
                                <div className="space-y-3">
                                    {metricsData.byCustomer.map((item, idx) => (
                                        <div key={idx}>
                                            <div className="flex justify-between text-sm mb-1">
                                                <span className="text-slate-300">{item.customer}</span>
                                                <span className="text-white font-medium">{item.winRate}% ({item.wins}/{item.submissions})</span>
                                            </div>
                                            <div className="h-3 bg-mp-navy rounded-full overflow-hidden">
                                                <div 
                                                    className="h-full rounded-full transition-all duration-500"
                                                    style={{ 
                                                        width: `${item.winRate}%`,
                                                        backgroundColor: item.winRate >= 50 ? '#10B981' : item.winRate >= 35 ? '#F59E0B' : '#EF4444'
                                                    }}
                                                />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Win Rate by Contract Type */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Win Rate by Contract Type</h3>
                                <div className="space-y-3">
                                    {metricsData.byContractType.map((item, idx) => (
                                        <div key={idx}>
                                            <div className="flex justify-between text-sm mb-1">
                                                <span className="text-slate-300">{item.type}</span>
                                                <span className="text-white font-medium">{item.winRate}% ({item.wins}/{item.submissions})</span>
                                            </div>
                                            <div className="h-3 bg-mp-navy rounded-full overflow-hidden">
                                                <div 
                                                    className="h-full bg-mp-cyan rounded-full transition-all duration-500"
                                                    style={{ width: `${item.winRate}%` }}
                                                />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Quarterly Trend */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Quarterly Performance Trend</h3>
                                <div className="flex items-end justify-between h-40 gap-4">
                                    {metricsData.quarterlyTrend.map((q, idx) => (
                                        <div key={idx} className="flex-1 text-center">
                                            <div className="relative h-32 flex flex-col justify-end">
                                                {/* Submissions bar */}
                                                <div 
                                                    className="w-full bg-slate-600 rounded-t mb-1"
                                                    style={{ height: `${(q.submissions / 15) * 100}%` }}
                                                />
                                                {/* Wins bar overlay */}
                                                <div 
                                                    className="absolute bottom-0 w-full bg-mp-cyan rounded-t"
                                                    style={{ height: `${(q.wins / 15) * 100}%` }}
                                                />
                                            </div>
                                            <div className="text-xs text-slate-400 mt-2">{q.quarter}</div>
                                            <div className="text-xs text-mp-cyan">{q.winRate}%</div>
                                        </div>
                                    ))}
                                </div>
                                <div className="flex justify-center gap-6 mt-4">
                                    <div className="flex items-center gap-2">
                                        <div className="w-3 h-3 bg-slate-600 rounded"></div>
                                        <span className="text-xs text-slate-400">Submissions</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <div className="w-3 h-3 bg-mp-cyan rounded"></div>
                                        <span className="text-xs text-slate-400">Wins</span>
                                    </div>
                                </div>
                            </div>

                            {/* Cycle Time by Phase */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Avg Cycle Time by Phase</h3>
                                <div className="space-y-4">
                                    {metricsData.cycleTime.map((phase, idx) => (
                                        <div key={idx}>
                                            <div className="flex justify-between text-sm mb-1">
                                                <span className="text-slate-300">{phase.phase}</span>
                                                <span className={`font-medium ${phase.avgDays > phase.target ? 'text-yellow-400' : 'text-green-400'}`}>
                                                    {phase.avgDays} days (target: {phase.target})
                                                </span>
                                            </div>
                                            <div className="h-2 bg-mp-navy rounded-full overflow-hidden relative">
                                                <div 
                                                    className={`h-full rounded-full ${phase.avgDays > phase.target ? 'bg-yellow-500' : 'bg-green-500'}`}
                                                    style={{ width: `${Math.min((phase.avgDays / 50) * 100, 100)}%` }}
                                                />
                                                <div 
                                                    className="absolute top-0 h-full w-0.5 bg-red-400"
                                                    style={{ left: `${(phase.target / 50) * 100}%` }}
                                                />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Bottom Section */}
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            {/* Loss Reasons */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Loss Reasons Analysis</h3>
                                <div className="space-y-3">
                                    {metricsData.lossReasons.map((reason, idx) => (
                                        <div key={idx} className="flex items-center gap-3">
                                            <div className="flex-1">
                                                <div className="flex justify-between text-sm mb-1">
                                                    <span className="text-slate-300">{reason.reason}</span>
                                                    <span className="text-red-400">{reason.percent}%</span>
                                                </div>
                                                <div className="h-2 bg-mp-navy rounded-full overflow-hidden">
                                                    <div 
                                                        className="h-full bg-red-500 rounded-full"
                                                        style={{ width: `${reason.percent}%` }}
                                                    />
                                                </div>
                                            </div>
                                            <span className="text-xs text-slate-500 w-8">{reason.count}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Top Performers */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Top Performers</h3>
                                <div className="space-y-3">
                                    {metricsData.topPerformers.map((person, idx) => (
                                        <div key={idx} className="flex items-center gap-3 p-2 rounded-lg hover:bg-mp-navy/50">
                                            <div className="w-10 h-10 bg-mp-cyan/20 rounded-full flex items-center justify-center text-mp-cyan font-bold">
                                                {person.name.split(' ').map(n => n[0]).join('')}
                                            </div>
                                            <div className="flex-1">
                                                <div className="text-white font-medium">{person.name}</div>
                                                <div className="text-xs text-slate-400">{person.role}</div>
                                            </div>
                                            <div className="text-right">
                                                <div className="text-mp-cyan font-bold">{person.winRate}%</div>
                                                <div className="text-xs text-slate-500">{person.proposals} proposals</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Resource Utilization */}
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-xl p-5">
                                <h3 className="text-lg font-semibold text-white mb-4">Team Utilization Trend</h3>
                                <div className="flex items-end justify-between h-32 gap-2">
                                    {metricsData.resourceUtil.map((m, idx) => (
                                        <div key={idx} className="flex-1 text-center">
                                            <div 
                                                className={`w-full rounded-t transition-all duration-500 ${
                                                    m.utilization > 90 ? 'bg-red-500' : 
                                                    m.utilization > 80 ? 'bg-yellow-500' : 'bg-green-500'
                                                }`}
                                                style={{ height: `${m.utilization}%` }}
                                            />
                                            <div className="text-xs text-slate-400 mt-2">{m.month}</div>
                                            <div className="text-xs text-white">{m.utilization}%</div>
                                        </div>
                                    ))}
                                </div>
                                <div className="flex justify-center gap-4 mt-4 text-xs">
                                    <span className="flex items-center gap-1">
                                        <span className="w-2 h-2 bg-green-500 rounded"></span>
                                        <span className="text-slate-400">&lt;80%</span>
                                    </span>
                                    <span className="flex items-center gap-1">
                                        <span className="w-2 h-2 bg-yellow-500 rounded"></span>
                                        <span className="text-slate-400">80-90%</span>
                                    </span>
                                    <span className="flex items-center gap-1">
                                        <span className="w-2 h-2 bg-red-500 rounded"></span>
                                        <span className="text-slate-400">&gt;90%</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="bg-mp-slate/30 border-t border-mp-cyan/10 px-6 py-4 mt-8">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-2 text-xs text-slate-500">
                            <span>AI GENERATED - REQUIRES HUMAN REVIEW</span>
                            <span>MissionPulse Proposal Metrics Dashboard v1.0</span>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<ProposalMetricsDashboard />, document.getElementById('root'));
    </script>
</body>
</html>
