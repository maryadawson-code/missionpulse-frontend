<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capture Intelligence Feed - MissionPulse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mp-navy': '#00050F',
                        'mp-cyan': '#00E5FA',
                        'mp-slate': '#0A1628',
                        'mp-dark': '#020817'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        .glow-cyan { box-shadow: 0 0 20px rgba(0, 229, 250, 0.3); }
        .intel-card:hover { transform: translateY(-2px); transition: all 0.2s ease; }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-mp-navy text-white min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useMemo } = React;

        // Demo Intelligence Feed
        const initialIntel = [
            {
                id: 1,
                type: 'sam_update',
                source: 'SAM.gov',
                title: 'DHA EHR Modernization - Amendment 003 Posted',
                summary: 'Q&A responses released addressing 47 vendor questions. Key clarifications on CMMC requirements and MHS GENESIS integration timeline.',
                details: 'Amendment includes revised Section L instructions for Technical Volume, updated key personnel requirements, and clarification on cloud hosting requirements (FedRAMP High required, not Moderate as originally stated).',
                opportunity: 'DHA EHR Modernization',
                impact: 'high',
                timestamp: '2025-01-29T14:30:00Z',
                isRead: false,
                aiInsight: 'CRITICAL: FedRAMP requirement change from Moderate to High may affect 3 of our proposed subcontractors. Recommend immediate review of CyberShield and Federal Cloud Services authorization levels.',
                tags: ['Amendment', 'Requirements Change', 'FedRAMP'],
                actionRequired: true
            },
            {
                id: 2,
                type: 'competitor',
                source: 'Market Intel',
                title: 'Leidos Announces Healthcare IT Partnership',
                summary: 'Leidos partners with Epic Systems for federal healthcare modernization initiatives.',
                details: 'Partnership focuses on EHR interoperability and data analytics. Joint solution targets VA and DHA opportunities. Epic bringing FHIR expertise and certified EHR modules.',
                opportunity: 'DHA EHR Modernization',
                impact: 'high',
                timestamp: '2025-01-29T10:15:00Z',
                isRead: false,
                aiInsight: 'This partnership strengthens Leidos position on DHA EHR. Our differentiator should emphasize MHS GENESIS experience (Epic partnership does not cover MHS GENESIS integration). Consider highlighting our 12 successful DHA deployments.',
                tags: ['Competitor', 'Partnership', 'Leidos'],
                actionRequired: false
            },
            {
                id: 3,
                type: 'customer',
                source: 'Customer Intel',
                title: 'DHA CIO Speaking at HIMSS Conference',
                summary: 'Dr. Patricia Frost presenting on "Future of Military Healthcare IT" at HIMSS 2025.',
                details: 'Presentation scheduled for Feb 15. Focus areas: interoperability, AI/ML in diagnostics, cybersecurity, and patient engagement. Pre-event interviews mention frustration with legacy system integration challenges.',
                opportunity: 'DHA EHR Modernization',
                impact: 'medium',
                timestamp: '2025-01-29T08:00:00Z',
                isRead: true,
                aiInsight: 'Key theme: "integration challenges" - our win theme on healthcare IT integration excellence directly addresses this pain point. Consider referencing this in executive summary and arranging attendance at HIMSS.',
                tags: ['Customer', 'Conference', 'Priorities'],
                actionRequired: false
            },
            {
                id: 4,
                type: 'sam_update',
                source: 'SAM.gov',
                title: 'VA Claims Processing - RFI Released',
                summary: 'Request for Information seeking industry feedback on claims automation approaches.',
                details: 'RFI focuses on AI/ML capabilities for claims adjudication, fraud detection, and veteran experience improvements. Responses due Feb 28, 2025. Draft RFP expected Q2 2025.',
                opportunity: 'VA Claims Processing',
                impact: 'medium',
                timestamp: '2025-01-28T16:45:00Z',
                isRead: true,
                aiInsight: 'RFI response is critical for shaping requirements. Our patent-pending fraud detection algorithm should be highlighted. Recommend comprehensive response showcasing AI capabilities and past VA work.',
                tags: ['RFI', 'AI/ML', 'VA'],
                actionRequired: true
            },
            {
                id: 5,
                type: 'competitor',
                source: 'Market Intel',
                title: 'GDIT Wins $500M VA IT Support Contract',
                summary: 'General Dynamics IT awarded major VA enterprise IT support contract.',
                details: 'Contract covers IT infrastructure, helpdesk, and network operations for VA facilities nationwide. 5-year base with 5 option years. May position GDIT for follow-on modernization work.',
                opportunity: 'VA Claims Processing',
                impact: 'medium',
                timestamp: '2025-01-28T11:30:00Z',
                isRead: true,
                aiInsight: 'GDIT incumbent position on VA IT support gives them adjacency advantage. However, this is infrastructure-focused, not claims processing. Our specialized healthcare claims expertise remains our differentiator.',
                tags: ['Competitor', 'Award', 'GDIT', 'VA'],
                actionRequired: false
            },
            {
                id: 6,
                type: 'news',
                source: 'Federal News',
                title: 'CMS Announces $2B Healthcare Data Initiative',
                summary: 'New program to modernize Medicare/Medicaid data infrastructure.',
                details: 'Multi-year initiative focusing on data interoperability, analytics, and fraud prevention. Initial RFP expected Q3 2025. Strong emphasis on cloud-native solutions and AI/ML capabilities.',
                opportunity: null,
                impact: 'high',
                timestamp: '2025-01-28T09:00:00Z',
                isRead: false,
                aiInsight: 'NEW OPPORTUNITY ALERT: This aligns perfectly with our CMS Data Analytics pursuit. Recommend adding to pipeline immediately and beginning pre-capture activities. Our FedRAMP High platform is well-positioned.',
                tags: ['New Opportunity', 'CMS', 'Data Analytics'],
                actionRequired: true
            },
            {
                id: 7,
                type: 'personnel',
                source: 'LinkedIn',
                title: 'Former DHA Deputy CIO Joins Consulting Firm',
                summary: 'John Martinez, former DHA Deputy CIO, named Senior Advisor at Deloitte Federal.',
                details: 'Martinez served 8 years at DHA overseeing EHR modernization programs. Known advocate for agile acquisition and commercial solutions adoption.',
                opportunity: 'DHA EHR Modernization',
                impact: 'medium',
                timestamp: '2025-01-27T14:00:00Z',
                isRead: true,
                aiInsight: 'Martinez departure removes a known advocate for our approach from DHA. Monitor for Deloitte teaming with competitors. Consider reaching out through appropriate channels for potential advisory role.',
                tags: ['Personnel', 'DHA', 'Deloitte'],
                actionRequired: false
            },
            {
                id: 8,
                type: 'budget',
                source: 'Budget Intel',
                title: 'FY26 DoD Healthcare IT Budget Increased 15%',
                summary: 'Congressional markup shows significant increase in military healthcare modernization funding.',
                details: 'Healthcare IT modernization receives $3.2B, up from $2.8B in FY25. MHS GENESIS optimization and interoperability initiatives specifically called out. New funding for AI diagnostics pilot programs.',
                opportunity: null,
                impact: 'high',
                timestamp: '2025-01-27T10:00:00Z',
                isRead: true,
                aiInsight: 'Budget increase validates continued investment in DHA healthcare IT. New AI diagnostics funding opens potential new pursuit. Recommend monitoring for specific program announcements in Q2.',
                tags: ['Budget', 'DoD', 'Healthcare IT'],
                actionRequired: false
            }
        ];

        const intelTypes = {
            sam_update: { label: 'SAM.gov Update', icon: 'üìã', color: 'bg-blue-500/20 text-blue-400' },
            competitor: { label: 'Competitor Intel', icon: 'üéØ', color: 'bg-red-500/20 text-red-400' },
            customer: { label: 'Customer Intel', icon: 'üë§', color: 'bg-purple-500/20 text-purple-400' },
            news: { label: 'Federal News', icon: 'üì∞', color: 'bg-green-500/20 text-green-400' },
            personnel: { label: 'Personnel Move', icon: 'üë•', color: 'bg-yellow-500/20 text-yellow-400' },
            budget: { label: 'Budget Intel', icon: 'üí∞', color: 'bg-emerald-500/20 text-emerald-400' }
        };

        function CaptureIntelligenceFeed() {
            const [intel, setIntel] = useState(initialIntel);
            const [selectedType, setSelectedType] = useState('all');
            const [selectedImpact, setSelectedImpact] = useState('all');
            const [showUnreadOnly, setShowUnreadOnly] = useState(false);
            const [showDetail, setShowDetail] = useState(null);

            const filteredIntel = useMemo(() => {
                return intel.filter(item => {
                    if (selectedType !== 'all' && item.type !== selectedType) return false;
                    if (selectedImpact !== 'all' && item.impact !== selectedImpact) return false;
                    if (showUnreadOnly && item.isRead) return false;
                    return true;
                });
            }, [intel, selectedType, selectedImpact, showUnreadOnly]);

            const markAsRead = (id) => {
                setIntel(intel.map(item => 
                    item.id === id ? { ...item, isRead: true } : item
                ));
            };

            const markAllAsRead = () => {
                setIntel(intel.map(item => ({ ...item, isRead: true })));
            };

            const formatTimestamp = (ts) => {
                const date = new Date(ts);
                const now = new Date();
                const diffHours = Math.floor((now - date) / (1000 * 60 * 60));
                
                if (diffHours < 1) return 'Just now';
                if (diffHours < 24) return `${diffHours}h ago`;
                if (diffHours < 48) return 'Yesterday';
                return date.toLocaleDateString();
            };

            const getImpactColor = (impact) => {
                const colors = {
                    high: 'bg-red-500/20 text-red-400 border-red-500/30',
                    medium: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',
                    low: 'bg-slate-500/20 text-slate-400 border-slate-500/30'
                };
                return colors[impact] || colors.medium;
            };

            const stats = useMemo(() => ({
                total: intel.length,
                unread: intel.filter(i => !i.isRead).length,
                actionRequired: intel.filter(i => i.actionRequired).length,
                highImpact: intel.filter(i => i.impact === 'high').length
            }), [intel]);

            return (
                <div className="min-h-screen bg-mp-navy">
                    {/* Header */}
                    <header className="bg-mp-slate/50 border-b border-mp-cyan/20 px-6 py-4">
                        <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
                            <div>
                                <h1 className="text-2xl font-bold text-white flex items-center gap-2">
                                    Capture Intelligence Feed
                                    {stats.unread > 0 && (
                                        <span className="bg-mp-cyan text-mp-navy text-xs px-2 py-0.5 rounded-full pulse">
                                            {stats.unread} new
                                        </span>
                                    )}
                                </h1>
                                <p className="text-sm text-slate-400 mt-1">Real-time Market Intelligence ‚Ä¢ AI Analysis</p>
                            </div>
                            <div className="flex items-center gap-3">
                                <button 
                                    onClick={markAllAsRead}
                                    className="text-sm text-slate-400 hover:text-white"
                                >
                                    Mark all read
                                </button>
                                <button className="bg-mp-cyan text-mp-navy font-semibold px-4 py-2 rounded-lg hover:bg-mp-cyan/90 flex items-center gap-2">
                                    <span>‚öôÔ∏è</span> Configure Feeds
                                </button>
                            </div>
                        </div>
                    </header>

                    <main className="p-6">
                        {/* Stats Bar */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-lg p-4">
                                <div className="text-2xl font-bold text-white">{stats.total}</div>
                                <div className="text-xs text-slate-400">Total Intel Items</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-lg p-4">
                                <div className="text-2xl font-bold text-mp-cyan">{stats.unread}</div>
                                <div className="text-xs text-slate-400">Unread</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-lg p-4">
                                <div className="text-2xl font-bold text-yellow-400">{stats.actionRequired}</div>
                                <div className="text-xs text-slate-400">Action Required</div>
                            </div>
                            <div className="bg-mp-slate/50 border border-mp-cyan/20 rounded-lg p-4">
                                <div className="text-2xl font-bold text-red-400">{stats.highImpact}</div>
                                <div className="text-xs text-slate-400">High Impact</div>
                            </div>
                        </div>

                        {/* Filters */}
                        <div className="flex flex-wrap gap-3 mb-6">
                            <select 
                                value={selectedType}
                                onChange={(e) => setSelectedType(e.target.value)}
                                className="bg-mp-slate border border-mp-cyan/30 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-mp-cyan"
                            >
                                <option value="all">All Types</option>
                                {Object.entries(intelTypes).map(([key, value]) => (
                                    <option key={key} value={key}>{value.label}</option>
                                ))}
                            </select>
                            <select 
                                value={selectedImpact}
                                onChange={(e) => setSelectedImpact(e.target.value)}
                                className="bg-mp-slate border border-mp-cyan/30 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-mp-cyan"
                            >
                                <option value="all">All Impact</option>
                                <option value="high">High Impact</option>
                                <option value="medium">Medium Impact</option>
                                <option value="low">Low Impact</option>
                            </select>
                            <label className="flex items-center gap-2 text-sm text-slate-400 cursor-pointer">
                                <input 
                                    type="checkbox"
                                    checked={showUnreadOnly}
                                    onChange={(e) => setShowUnreadOnly(e.target.checked)}
                                    className="rounded border-mp-cyan/30 bg-mp-slate text-mp-cyan focus:ring-mp-cyan"
                                />
                                Unread only
                            </label>
                        </div>

                        {/* Intel Feed */}
                        <div className="space-y-4">
                            {filteredIntel.map((item) => {
                                const typeInfo = intelTypes[item.type];
                                return (
                                    <div 
                                        key={item.id}
                                        className={`bg-mp-slate/50 border rounded-xl p-5 intel-card cursor-pointer ${
                                            !item.isRead ? 'border-mp-cyan/40' : 'border-mp-cyan/20'
                                        }`}
                                        onClick={() => { setShowDetail(item); markAsRead(item.id); }}
                                    >
                                        {/* Header */}
                                        <div className="flex flex-col md:flex-row md:items-start justify-between gap-3 mb-3">
                                            <div className="flex items-start gap-3">
                                                {!item.isRead && (
                                                    <div className="w-2 h-2 rounded-full bg-mp-cyan mt-2 flex-shrink-0"></div>
                                                )}
                                                <div>
                                                    <div className="flex flex-wrap items-center gap-2 mb-1">
                                                        <span className={`text-xs px-2 py-0.5 rounded ${typeInfo.color}`}>
                                                            {typeInfo.icon} {typeInfo.label}
                                                        </span>
                                                        <span className={`text-xs px-2 py-0.5 rounded border ${getImpactColor(item.impact)}`}>
                                                            {item.impact} impact
                                                        </span>
                                                        {item.actionRequired && (
                                                            <span className="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded">
                                                                ‚ö° Action Required
                                                            </span>
                                                        )}
                                                    </div>
                                                    <h3 className="text-lg font-semibold text-white">{item.title}</h3>
                                                    {item.opportunity && (
                                                        <p className="text-xs text-mp-cyan mt-1">üìé {item.opportunity}</p>
                                                    )}
                                                </div>
                                            </div>
                                            <div className="text-xs text-slate-500 whitespace-nowrap">
                                                {formatTimestamp(item.timestamp)}
                                            </div>
                                        </div>

                                        {/* Summary */}
                                        <p className="text-sm text-slate-300 mb-4">{item.summary}</p>

                                        {/* AI Insight */}
                                        <div className="bg-mp-cyan/10 border border-mp-cyan/20 rounded-lg p-3 mb-3">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className="text-mp-cyan text-sm">ü§ñ AI Insight</span>
                                            </div>
                                            <p className="text-sm text-slate-300">{item.aiInsight}</p>
                                        </div>

                                        {/* Tags */}
                                        <div className="flex flex-wrap gap-2">
                                            {item.tags.map((tag, idx) => (
                                                <span key={idx} className="text-xs bg-mp-navy/50 text-slate-400 px-2 py-1 rounded">
                                                    #{tag}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        {filteredIntel.length === 0 && (
                            <div className="text-center py-12">
                                <div className="text-4xl mb-3">üì°</div>
                                <p className="text-slate-400">No intelligence items match your filters</p>
                            </div>
                        )}
                    </main>

                    {/* Detail Modal */}
                    {showDetail && (
                        <div className="fixed inset-0 bg-black/70 flex items-start justify-center z-50 p-4 overflow-y-auto" onClick={() => setShowDetail(null)}>
                            <div className="bg-mp-slate border border-mp-cyan/30 rounded-xl p-6 max-w-2xl w-full my-8" onClick={e => e.stopPropagation()}>
                                {/* Modal Header */}
                                <div className="flex justify-between items-start mb-4">
                                    <div>
                                        <div className="flex flex-wrap items-center gap-2 mb-2">
                                            <span className={`text-xs px-2 py-0.5 rounded ${intelTypes[showDetail.type].color}`}>
                                                {intelTypes[showDetail.type].icon} {intelTypes[showDetail.type].label}
                                            </span>
                                            <span className={`text-xs px-2 py-0.5 rounded border ${getImpactColor(showDetail.impact)}`}>
                                                {showDetail.impact} impact
                                            </span>
                                            {showDetail.actionRequired && (
                                                <span className="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded">
                                                    ‚ö° Action Required
                                                </span>
                                            )}
                                        </div>
                                        <h2 className="text-xl font-bold text-white">{showDetail.title}</h2>
                                    </div>
                                    <button 
                                        onClick={() => setShowDetail(null)}
                                        className="text-slate-400 hover:text-white text-xl"
                                    >
                                        √ó
                                    </button>
                                </div>

                                {/* Source & Time */}
                                <div className="flex gap-4 mb-4 text-sm text-slate-400">
                                    <span>Source: {showDetail.source}</span>
                                    <span>‚Ä¢</span>
                                    <span>{new Date(showDetail.timestamp).toLocaleString()}</span>
                                </div>

                                {/* Related Opportunity */}
                                {showDetail.opportunity && (
                                    <div className="bg-mp-navy/50 rounded-lg p-3 mb-4">
                                        <div className="text-xs text-slate-500">Related Opportunity</div>
                                        <div className="text-mp-cyan font-medium">{showDetail.opportunity}</div>
                                    </div>
                                )}

                                {/* Summary */}
                                <div className="mb-4">
                                    <h4 className="text-xs uppercase text-slate-500 tracking-wide mb-2">Summary</h4>
                                    <p className="text-slate-300">{showDetail.summary}</p>
                                </div>

                                {/* Full Details */}
                                <div className="mb-4">
                                    <h4 className="text-xs uppercase text-slate-500 tracking-wide mb-2">Details</h4>
                                    <p className="text-slate-300">{showDetail.details}</p>
                                </div>

                                {/* AI Insight */}
                                <div className="bg-mp-cyan/10 border border-mp-cyan/20 rounded-lg p-4 mb-4">
                                    <h4 className="text-mp-cyan font-medium mb-2">ü§ñ AI Analysis & Recommendations</h4>
                                    <p className="text-slate-300">{showDetail.aiInsight}</p>
                                </div>

                                {/* Tags */}
                                <div className="flex flex-wrap gap-2 mb-6">
                                    {showDetail.tags.map((tag, idx) => (
                                        <span key={idx} className="text-xs bg-mp-navy/50 text-slate-400 px-2 py-1 rounded">
                                            #{tag}
                                        </span>
                                    ))}
                                </div>

                                {/* Actions */}
                                <div className="flex gap-3">
                                    <button className="flex-1 bg-mp-cyan text-mp-navy font-semibold py-2 rounded-lg hover:bg-mp-cyan/90">
                                        Take Action
                                    </button>
                                    <button className="flex-1 border border-slate-600 text-slate-300 py-2 rounded-lg hover:bg-mp-navy">
                                        Share with Team
                                    </button>
                                    <button className="border border-slate-600 text-slate-300 px-4 py-2 rounded-lg hover:bg-mp-navy">
                                        üîñ
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-mp-slate/30 border-t border-mp-cyan/10 px-6 py-4 mt-8">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-2 text-xs text-slate-500">
                            <span>AI GENERATED - REQUIRES HUMAN REVIEW</span>
                            <span>MissionPulse Capture Intelligence Feed v1.0</span>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<CaptureIntelligenceFeed />, document.getElementById('root'));
    </script>
</body>
</html>
